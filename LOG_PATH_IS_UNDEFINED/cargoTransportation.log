11:11:58.364 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:11:58.425 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 13700 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:11:58.426 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:11:59.985 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:12:00.220 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 202 ms. Found 8 JPA repository interfaces.
11:12:01.154 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:12:01.164 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:12:01.167 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:12:01.167 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:12:01.324 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:12:01.325 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2818 ms
11:12:01.539 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:12:01.817 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c9d90fc
11:12:01.835 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:12:02.029 [main] INFO  liquibase.database - Set default schema name to public
11:12:02.295 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
11:12:02.370 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:12:02.372 [main] INFO  liquibase.command - Command execution complete
11:12:02.373 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
11:12:02.374 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:12:02.464 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:12:02.470 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
11:12:02.497 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
11:12:02.543 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

11:20:30.484 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:20:30.516 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 2512 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:20:30.516 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:20:31.527 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:20:31.678 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
11:20:32.364 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:20:32.371 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:20:32.373 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:20:32.374 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:20:32.495 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:20:32.498 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1943 ms
11:20:32.659 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:20:32.961 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d3c886f
11:20:32.966 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:20:33.369 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
11:20:33.536 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
11:20:33.781 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
11:20:33.806 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:20:33.857 [main] INFO  liquibase.command - Using deploymentId: 8793633817
11:20:33.897 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:20:33.988 [main] ERROR liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::bsavelev encountered an exception.
11:20:33.990 [main] INFO  liquibase.command - Update command encountered an exception.
11:20:33.995 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:20:33.999 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:20:34.000 [main] INFO  liquibase.command - Command execution complete
11:20:34.002 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
11:20:34.003 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:20:34.015 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:20:34.018 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
11:20:34.034 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
11:20:34.055 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:123)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:102)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:99)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:761)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:68)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:718)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "roles" does not exist
  Position: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
11:21:02.294 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:21:02.334 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 17348 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:21:02.336 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:21:03.383 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:21:03.577 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 8 JPA repository interfaces.
11:21:04.429 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:21:04.437 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:21:04.438 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:21:04.438 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:21:04.548 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:21:04.549 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2179 ms
11:21:04.756 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:21:04.968 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@666618d6
11:21:04.971 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:21:05.335 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
11:21:05.661 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
11:21:06.038 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:21:06.075 [main] INFO  liquibase.command - Using deploymentId: 8793666043
11:21:06.122 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:21:06.220 [main] ERROR liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::bsavelev encountered an exception.
11:21:06.221 [main] INFO  liquibase.command - Update command encountered an exception.
11:21:06.225 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:21:06.228 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:21:06.228 [main] INFO  liquibase.command - Command execution complete
11:21:06.230 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
11:21:06.230 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:21:06.235 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:21:06.239 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
11:21:06.255 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
11:21:06.302 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:123)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:102)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:99)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:761)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:68)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:718)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "roles" does not exist
  Position: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
11:24:33.865 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:24:33.929 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 15608 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:24:33.932 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:24:35.156 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:24:35.302 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 127 ms. Found 8 JPA repository interfaces.
11:24:35.896 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:24:35.904 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:24:35.906 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:24:35.906 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:24:35.999 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:24:35.999 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1966 ms
11:24:36.181 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
11:24:36.234 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
11:24:36.236 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
11:24:36.385 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:24:36.520 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
11:24:36.538 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:24:36.744 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@144ee8a7
11:24:36.747 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:24:37.184 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:24:37.411 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
11:24:38.467 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
11:24:38.471 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
11:24:38.475 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
11:24:38.476 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
11:24:38.501 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
11:24:39.237 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
11:24:39.979 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:24:40.315 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b0e903a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ca2fcb5, org.springframework.security.web.context.SecurityContextHolderFilter@74fa4891, org.springframework.security.web.header.HeaderWriterFilter@662754bb, org.springframework.web.filter.CorsFilter@3c964873, org.springframework.security.web.authentication.logout.LogoutFilter@3e216fc9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5abfb698, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@640c8cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e0d70db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7db72209, org.springframework.security.web.access.ExceptionTranslationFilter@2539ab41, org.springframework.security.web.access.intercept.AuthorizationFilter@71e839ee]
11:24:40.540 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:24:40.541 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
11:24:40.541 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:24:40.541 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
11:24:40.541 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:24:40.541 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
11:24:40.542 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:24:40.542 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
11:24:40.560 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 83cb4ebe-2103-49eb-ba88-1db3af29159d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

11:24:40.610 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
11:24:40.635 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
11:24:40.645 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.28 seconds (process running for 8.251)
11:32:20.527 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
11:32:20.531 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:32:20.535 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:32:24.234 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:32:24.280 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 22072 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:32:24.282 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:32:25.357 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:32:25.497 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 8 JPA repository interfaces.
11:32:26.129 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:32:26.135 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:32:26.137 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:32:26.137 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:32:26.230 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:32:26.230 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1868 ms
11:32:26.416 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
11:32:26.466 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
11:32:26.469 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
11:32:26.619 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:32:26.739 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
11:32:26.751 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:32:26.955 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5e51ec2e
11:32:26.957 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:32:27.395 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:32:28.917 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
11:32:28.939 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
11:32:28.944 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.944 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "agents" does not exist, skipping
11:32:28.944 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
11:32:28.945 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.945 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "documents" does not exist, skipping
11:32:28.945 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
11:32:28.946 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.947 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "documents" does not exist, skipping
11:32:28.947 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
11:32:28.948 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.948 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.948 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
11:32:28.948 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.948 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.950 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
11:32:28.951 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.951 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.951 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
11:32:28.952 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.952 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.952 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
11:32:28.953 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.953 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.953 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
11:32:28.954 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.954 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.954 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
11:32:28.955 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.955 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:32:28.955 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
11:32:28.956 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.956 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "roles_permissions" does not exist, skipping
11:32:28.956 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
11:32:28.957 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.957 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "roles_permissions" does not exist, skipping
11:32:28.957 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
11:32:28.957 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.958 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "transports" does not exist, skipping
11:32:28.958 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
11:32:28.959 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.959 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "transports" does not exist, skipping
11:32:28.959 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
11:32:28.961 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.961 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "users" does not exist, skipping
11:32:28.962 [main] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
11:32:28.963 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.963 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "addresses" does not exist, skipping
11:32:28.963 [main] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
11:32:28.964 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.964 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "agents" does not exist, skipping
11:32:28.964 [main] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
11:32:28.965 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.965 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "documents" does not exist, skipping
11:32:28.965 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
11:32:28.965 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.966 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "orders" does not exist, skipping
11:32:28.966 [main] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
11:32:28.967 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.967 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "permissions" does not exist, skipping
11:32:28.967 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
11:32:28.968 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.968 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "product_types" does not exist, skipping
11:32:28.968 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
11:32:28.968 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.969 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "roles" does not exist, skipping
11:32:28.969 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
11:32:28.970 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.970 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "roles_permissions" does not exist, skipping
11:32:28.970 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
11:32:28.971 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.971 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "transports" does not exist, skipping
11:32:28.971 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
11:32:28.972 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:32:28.972 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "users" does not exist, skipping
11:32:28.986 [main] DEBUG org.hibernate.SQL - 
    create table addresses (
        latitude float(53),
        longitude float(53),
        id bigserial not null,
        address varchar(255),
        city varchar(255),
        state varchar(255),
        type varchar(255) check (type in ('CURRENT','SOURCE','DESTINATION')),
        primary key (id)
    )
11:32:29.015 [main] DEBUG org.hibernate.SQL - 
    create table agents (
        percent_to_express integer,
        percent_to_standard integer,
        price_per_km integer,
        price_per_lb integer,
        id bigint not null,
        company_address varchar(255),
        company_name varchar(255),
        primary key (id)
    )
11:32:29.028 [main] DEBUG org.hibernate.SQL - 
    create table documents (
        id bigserial not null,
        order_id integer,
        user_id integer,
        format varchar(255),
        name varchar(255),
        type varchar(255) check (type in ('CV','PASSPORT','DRIVERS_LICENSES','INSURANCE','TECH_PASSPORT')),
        primary key (id)
    )
11:32:29.040 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        distance float(53),
        total_price float(53),
        volume integer,
        broker_id bigint,
        carrier_id bigint,
        created_date TIMESTAMP,
        current_location_id bigint unique,
        delivered_date TIMESTAMP,
        destination_address_id bigint unique,
        estimated_delivery_date TIMESTAMP,
        id bigserial not null,
        price bigint,
        shipper_id bigint,
        source_address_id bigint unique,
        taken_date TIMESTAMP,
        duration varchar(255),
        name varchar(255),
        status varchar(255) check (status in ('WAITING','TAKEN','CONFIRMED','ACCEPTED','SHIPPED','DELIVERED','REJECTED')),
        type varchar(255) check (type in ('STANDARD','EXPRESS')),
        type_id varchar(255),
        primary key (id)
    )
11:32:29.061 [main] DEBUG org.hibernate.SQL - 
    create table permissions (
        name varchar(255) not null,
        primary key (name)
    )
11:32:29.066 [main] DEBUG org.hibernate.SQL - 
    create table product_types (
        name varchar(255) not null,
        primary key (name)
    )
11:32:29.073 [main] DEBUG org.hibernate.SQL - 
    create table roles (
        name varchar(255) not null,
        primary key (name)
    )
11:32:29.077 [main] DEBUG org.hibernate.SQL - 
    create table roles_permissions (
        permission_id varchar(255) not null,
        role_id varchar(255) not null,
        primary key (permission_id, role_id)
    )
11:32:29.085 [main] DEBUG org.hibernate.SQL - 
    create table transports (
        capacity integer,
        agent_id bigint,
        carrier_id bigint unique,
        id bigserial not null,
        model varchar(255),
        number varchar(255),
        type varchar(255) check (type in ('TRUCK','PASSENGER_CAR')),
        primary key (id)
    )
11:32:29.097 [main] DEBUG org.hibernate.SQL - 
    create table users (
        birth_date date,
        is_confirmed boolean,
        created_at timestamp(6),
        id bigserial not null,
        address varchar(255),
        fio varchar(255),
        password varchar(255),
        phone varchar(255),
        role varchar(255),
        username varchar(255) unique,
        primary key (id)
    )
11:32:29.110 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       add constraint FKqaw7vqyrwpqych5yeuwyjcyjs 
       foreign key (id) 
       references users
11:32:29.117 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKpa2ye2pqmpd55sy72g6ho2hbr 
       foreign key (order_id) 
       references orders
11:32:29.124 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKkxttj4tp5le2uth212lu49vny 
       foreign key (user_id) 
       references users
11:32:29.127 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKk6ql5aqbb1c1qjsk22bhotfxv 
       foreign key (broker_id) 
       references users
11:32:29.129 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKb47jiphk85fc69thu4g3ujq7f 
       foreign key (carrier_id) 
       references users
11:32:29.131 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK7ew63b14w8j2wq3daldcdgbx0 
       foreign key (current_location_id) 
       references addresses
11:32:29.134 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKnjq7xrupks4ys8g5mmtkchlqg 
       foreign key (destination_address_id) 
       references addresses
11:32:29.138 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKm1hb2iybrajm11caj5f8nce5l 
       foreign key (type_id) 
       references product_types
11:32:29.140 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKmjnf91amspoh2m4qg8ct5y8uj 
       foreign key (shipper_id) 
       references users
11:32:29.142 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK8b39epmo9mapvq405ynbsida2 
       foreign key (source_address_id) 
       references addresses
11:32:29.144 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKbx9r9uw77p58gsq4mus0mec0o 
       foreign key (permission_id) 
       references permissions
11:32:29.150 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKqi9odri6c1o81vjox54eedwyh 
       foreign key (role_id) 
       references roles
11:32:29.155 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKlv4tu9vlg15w63rl1v78kf4fj 
       foreign key (agent_id) 
       references agents
11:32:29.161 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKrm2pxhumjebm7x60q5fsihlit 
       foreign key (carrier_id) 
       references users
11:32:29.164 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint FK4c6vlshk8x83ifeoggi3exg3k 
       foreign key (role) 
       references roles
11:32:29.174 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
11:32:29.923 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
11:32:30.700 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:32:31.062 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7f49fa1d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e211727, org.springframework.security.web.context.SecurityContextHolderFilter@5ac168e3, org.springframework.security.web.header.HeaderWriterFilter@6924ff83, org.springframework.web.filter.CorsFilter@5b6b5888, org.springframework.security.web.authentication.logout.LogoutFilter@233202aa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@fa3db48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5608233b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11fd6f02, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72a1ccad, org.springframework.security.web.access.ExceptionTranslationFilter@fca4392, org.springframework.security.web.access.intercept.AuthorizationFilter@b0e903a]
11:32:31.326 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:32:31.327 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
11:32:31.327 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:32:31.328 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
11:32:31.328 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:32:31.328 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
11:32:31.328 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:32:31.328 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
11:32:31.367 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1c3adbb8-d9f2-4a90-9dd7-2dce7a328387

This generated password is for development use only. Your security configuration must be updated before running your application in production.

11:32:31.418 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
11:32:31.445 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
11:32:31.456 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.64 seconds (process running for 8.575)
11:33:44.282 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
11:33:44.282 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
11:33:44.290 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
11:33:44.291 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
11:33:44.292 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
11:33:44.294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
11:33:44.294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
11:33:44.295 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
11:33:44.296 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
11:33:44.296 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
11:33:44.297 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
11:33:44.298 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
11:33:44.299 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
11:33:44.299 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
11:33:44.300 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
11:33:44.300 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
11:33:44.301 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
11:33:44.306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
11:33:44.309 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
11:33:44.312 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
11:33:44.319 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
11:33:44.321 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
11:33:44.324 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
11:33:44.325 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
11:33:44.328 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
11:33:44.333 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
11:33:44.340 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:33:44.345 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:33:47.388 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:33:47.453 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 11192 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:33:47.454 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:33:48.347 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:33:48.512 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 146 ms. Found 8 JPA repository interfaces.
11:33:49.221 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:33:49.228 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:33:49.229 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:33:49.230 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:33:49.345 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:33:49.345 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1854 ms
11:33:49.508 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:33:49.718 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@24fba488
11:33:49.722 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:33:50.015 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
11:33:50.204 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
11:33:50.603 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:33:50.643 [main] INFO  liquibase.command - Using deploymentId: 8794430610
11:33:50.677 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:33:50.798 [main] ERROR liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::bsavelev encountered an exception.
11:33:50.802 [main] INFO  liquibase.command - Update command encountered an exception.
11:33:50.804 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:33:50.809 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:33:50.809 [main] INFO  liquibase.command - Command execution complete
11:33:50.810 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
11:33:50.811 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:33:50.816 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:33:50.820 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
11:33:50.834 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
11:33:50.869 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:123)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:102)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:99)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::bsavelev:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:761)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:68)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:718)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "roles" does not exist
  Position: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
11:35:49.824 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:35:49.886 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 22088 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:35:49.892 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:35:51.112 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:35:51.303 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 167 ms. Found 8 JPA repository interfaces.
11:35:52.077 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:35:52.088 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:35:52.090 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:35:52.091 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:35:52.198 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:35:52.199 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2237 ms
11:35:52.376 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
11:35:52.429 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
11:35:52.431 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
11:35:52.587 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:35:52.722 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
11:35:52.738 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:35:52.944 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18c820d2
11:35:52.946 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:35:53.380 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:35:54.719 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
11:35:54.735 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
11:35:54.739 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.739 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "agents" does not exist, skipping
11:35:54.739 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
11:35:54.740 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.740 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "documents" does not exist, skipping
11:35:54.740 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
11:35:54.741 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.742 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "documents" does not exist, skipping
11:35:54.742 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
11:35:54.743 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.743 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.744 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
11:35:54.745 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.745 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.745 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
11:35:54.746 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.746 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.746 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
11:35:54.746 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.746 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.746 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
11:35:54.747 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.747 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.747 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
11:35:54.748 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.748 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.749 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
11:35:54.749 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.749 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
11:35:54.749 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
11:35:54.751 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.751 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "roles_permissions" does not exist, skipping
11:35:54.751 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
11:35:54.752 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.752 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "roles_permissions" does not exist, skipping
11:35:54.752 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
11:35:54.753 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.753 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "transports" does not exist, skipping
11:35:54.753 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
11:35:54.754 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.754 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "transports" does not exist, skipping
11:35:54.754 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
11:35:54.754 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.754 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "users" does not exist, skipping
11:35:54.755 [main] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
11:35:54.756 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.756 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "addresses" does not exist, skipping
11:35:54.756 [main] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
11:35:54.757 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.757 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "agents" does not exist, skipping
11:35:54.757 [main] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
11:35:54.758 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.758 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "documents" does not exist, skipping
11:35:54.758 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
11:35:54.758 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.758 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "orders" does not exist, skipping
11:35:54.758 [main] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
11:35:54.759 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.759 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "permissions" does not exist, skipping
11:35:54.759 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
11:35:54.761 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.761 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "product_types" does not exist, skipping
11:35:54.761 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
11:35:54.761 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.761 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "roles" does not exist, skipping
11:35:54.761 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
11:35:54.762 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.762 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "roles_permissions" does not exist, skipping
11:35:54.762 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
11:35:54.763 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.763 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "transports" does not exist, skipping
11:35:54.763 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
11:35:54.763 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:35:54.764 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "users" does not exist, skipping
11:35:54.784 [main] DEBUG org.hibernate.SQL - 
    create table addresses (
        latitude float(53),
        longitude float(53),
        id bigserial not null,
        address varchar(255),
        city varchar(255),
        state varchar(255),
        type varchar(255) check (type in ('CURRENT','SOURCE','DESTINATION')),
        primary key (id)
    )
11:35:54.806 [main] DEBUG org.hibernate.SQL - 
    create table agents (
        percent_to_express integer,
        percent_to_standard integer,
        price_per_km integer,
        price_per_lb integer,
        id bigint not null,
        company_address varchar(255),
        company_name varchar(255),
        primary key (id)
    )
11:35:54.814 [main] DEBUG org.hibernate.SQL - 
    create table documents (
        id bigserial not null,
        order_id integer,
        user_id integer,
        format varchar(255),
        name varchar(255),
        type varchar(255) check (type in ('CV','PASSPORT','DRIVERS_LICENSES','INSURANCE','TECH_PASSPORT')),
        primary key (id)
    )
11:35:54.823 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        distance float(53),
        total_price float(53),
        volume integer,
        broker_id bigint,
        carrier_id bigint,
        created_date TIMESTAMP,
        current_location_id bigint unique,
        delivered_date TIMESTAMP,
        destination_address_id bigint unique,
        estimated_delivery_date TIMESTAMP,
        id bigserial not null,
        price bigint,
        shipper_id bigint,
        source_address_id bigint unique,
        taken_date TIMESTAMP,
        duration varchar(255),
        name varchar(255),
        status varchar(255) check (status in ('WAITING','TAKEN','CONFIRMED','ACCEPTED','SHIPPED','DELIVERED','REJECTED')),
        type varchar(255) check (type in ('STANDARD','EXPRESS')),
        type_id varchar(255),
        primary key (id)
    )
11:35:54.840 [main] DEBUG org.hibernate.SQL - 
    create table permissions (
        name varchar(255) not null,
        primary key (name)
    )
11:35:54.843 [main] DEBUG org.hibernate.SQL - 
    create table product_types (
        name varchar(255) not null,
        primary key (name)
    )
11:35:54.846 [main] DEBUG org.hibernate.SQL - 
    create table roles (
        name varchar(255) not null,
        primary key (name)
    )
11:35:54.849 [main] DEBUG org.hibernate.SQL - 
    create table roles_permissions (
        permission_id varchar(255) not null,
        role_id varchar(255) not null,
        primary key (permission_id, role_id)
    )
11:35:54.855 [main] DEBUG org.hibernate.SQL - 
    create table transports (
        capacity integer,
        agent_id bigint,
        carrier_id bigint unique,
        id bigserial not null,
        model varchar(255),
        number varchar(255),
        type varchar(255) check (type in ('TRUCK','PASSENGER_CAR')),
        primary key (id)
    )
11:35:54.866 [main] DEBUG org.hibernate.SQL - 
    create table users (
        birth_date date,
        is_confirmed boolean,
        created_at timestamp(6),
        id bigserial not null,
        address varchar(255),
        fio varchar(255),
        password varchar(255),
        phone varchar(255),
        role varchar(255),
        username varchar(255) unique,
        primary key (id)
    )
11:35:54.878 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       add constraint FKqaw7vqyrwpqych5yeuwyjcyjs 
       foreign key (id) 
       references users
11:35:54.882 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKpa2ye2pqmpd55sy72g6ho2hbr 
       foreign key (order_id) 
       references orders
11:35:54.888 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKkxttj4tp5le2uth212lu49vny 
       foreign key (user_id) 
       references users
11:35:54.890 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKk6ql5aqbb1c1qjsk22bhotfxv 
       foreign key (broker_id) 
       references users
11:35:54.892 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKb47jiphk85fc69thu4g3ujq7f 
       foreign key (carrier_id) 
       references users
11:35:54.892 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK7ew63b14w8j2wq3daldcdgbx0 
       foreign key (current_location_id) 
       references addresses
11:35:54.894 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKnjq7xrupks4ys8g5mmtkchlqg 
       foreign key (destination_address_id) 
       references addresses
11:35:54.896 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKm1hb2iybrajm11caj5f8nce5l 
       foreign key (type_id) 
       references product_types
11:35:54.899 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKmjnf91amspoh2m4qg8ct5y8uj 
       foreign key (shipper_id) 
       references users
11:35:54.900 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK8b39epmo9mapvq405ynbsida2 
       foreign key (source_address_id) 
       references addresses
11:35:54.901 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKbx9r9uw77p58gsq4mus0mec0o 
       foreign key (permission_id) 
       references permissions
11:35:54.904 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKqi9odri6c1o81vjox54eedwyh 
       foreign key (role_id) 
       references roles
11:35:54.906 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKlv4tu9vlg15w63rl1v78kf4fj 
       foreign key (agent_id) 
       references agents
11:35:54.911 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKrm2pxhumjebm7x60q5fsihlit 
       foreign key (carrier_id) 
       references users
11:35:54.912 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint FK4c6vlshk8x83ifeoggi3exg3k 
       foreign key (role) 
       references roles
11:35:54.917 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
11:35:55.609 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
11:35:56.296 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:35:56.637 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19158d56, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f02dc34, org.springframework.security.web.context.SecurityContextHolderFilter@e19908e, org.springframework.security.web.header.HeaderWriterFilter@fca4392, org.springframework.web.filter.CorsFilter@7f49fa1d, org.springframework.security.web.authentication.logout.LogoutFilter@2fd79ac6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@45ec6bb3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ac168e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14574cdf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e211727, org.springframework.security.web.access.ExceptionTranslationFilter@62dfe32e, org.springframework.security.web.access.intercept.AuthorizationFilter@61ce2d47]
11:35:56.897 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:35:56.897 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
11:35:56.897 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:35:56.897 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
11:35:56.898 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:35:56.898 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
11:35:56.898 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:35:56.898 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
11:35:56.934 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 393fd0a7-06b9-4ed4-89ac-cef5d62dc370

This generated password is for development use only. Your security configuration must be updated before running your application in production.

11:35:56.972 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
11:35:56.998 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
11:35:57.016 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.668 seconds (process running for 8.463)
11:36:49.422 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
11:36:49.423 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
11:36:49.426 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
11:36:49.426 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
11:36:49.427 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
11:36:49.428 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
11:36:49.429 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
11:36:49.430 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
11:36:49.431 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
11:36:49.431 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
11:36:49.432 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
11:36:49.433 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
11:36:49.434 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
11:36:49.435 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
11:36:49.436 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
11:36:49.436 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
11:36:49.437 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
11:36:49.442 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
11:36:49.444 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
11:36:49.449 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
11:36:49.456 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
11:36:49.458 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
11:36:49.461 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
11:36:49.462 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
11:36:49.465 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
11:36:49.472 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
11:36:49.479 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:36:49.483 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:36:52.561 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:36:52.601 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 6284 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:36:52.602 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:36:53.742 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:36:53.917 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 8 JPA repository interfaces.
11:36:54.651 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:36:54.659 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:36:54.661 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:36:54.661 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:36:54.755 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:36:54.755 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2110 ms
11:36:54.939 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
11:36:54.993 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
11:36:54.994 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
11:36:55.164 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:36:55.302 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
11:36:55.319 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:36:55.533 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@52b32b70
11:36:55.536 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:36:55.993 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:36:57.162 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
11:36:57.237 [main] DEBUG org.hibernate.SQL - 
    create table addresses (
        id bigserial not null,
        address varchar(255),
        city varchar(255),
        latitude float(53),
        longitude float(53),
        state varchar(255),
        type varchar(255) check (type in ('CURRENT','SOURCE','DESTINATION')),
        primary key (id)
    )
11:36:57.254 [main] DEBUG org.hibernate.SQL - 
    create table agents (
        company_address varchar(255),
        company_name varchar(255),
        percent_to_express integer,
        percent_to_standard integer,
        price_per_km integer,
        price_per_lb integer,
        id bigint not null,
        primary key (id)
    )
11:36:57.261 [main] DEBUG org.hibernate.SQL - 
    create table documents (
        id bigserial not null,
        format varchar(255),
        name varchar(255),
        type varchar(255) check (type in ('CV','PASSPORT','DRIVERS_LICENSES','INSURANCE','TECH_PASSPORT')),
        order_id integer,
        user_id integer,
        primary key (id)
    )
11:36:57.272 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigserial not null,
        created_date TIMESTAMP,
        delivered_date TIMESTAMP,
        duration varchar(255),
        estimated_delivery_date TIMESTAMP,
        name varchar(255),
        type varchar(255) check (type in ('STANDARD','EXPRESS')),
        price bigint,
        status varchar(255) check (status in ('WAITING','TAKEN','CONFIRMED','ACCEPTED','SHIPPED','DELIVERED','REJECTED')),
        taken_date TIMESTAMP,
        distance float(53),
        total_price float(53),
        volume integer,
        broker_id bigint,
        carrier_id bigint,
        current_location_id bigint,
        destination_address_id bigint,
        type_id varchar(255),
        shipper_id bigint,
        source_address_id bigint,
        primary key (id)
    )
11:36:57.281 [main] DEBUG org.hibernate.SQL - 
    create table permissions (
        name varchar(255) not null,
        primary key (name)
    )
11:36:57.286 [main] DEBUG org.hibernate.SQL - 
    create table product_types (
        name varchar(255) not null,
        primary key (name)
    )
11:36:57.290 [main] DEBUG org.hibernate.SQL - 
    create table roles (
        name varchar(255) not null,
        primary key (name)
    )
11:36:57.294 [main] DEBUG org.hibernate.SQL - 
    create table roles_permissions (
        role_id varchar(255) not null,
        permission_id varchar(255) not null,
        primary key (role_id, permission_id)
    )
11:36:57.301 [main] DEBUG org.hibernate.SQL - 
    create table transports (
        id bigserial not null,
        capacity integer,
        model varchar(255),
        number varchar(255),
        type varchar(255) check (type in ('TRUCK','PASSENGER_CAR')),
        agent_id bigint,
        carrier_id bigint,
        primary key (id)
    )
11:36:57.310 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigserial not null,
        address varchar(255),
        birth_date date,
        created_at timestamp(6),
        fio varchar(255),
        is_confirmed boolean,
        password varchar(255),
        phone varchar(255),
        username varchar(255),
        role varchar(255),
        primary key (id)
    )
11:36:57.320 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists UK_pey7355pwxl054nno7q9lkxpi
11:36:57.324 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:36:57.324 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_pey7355pwxl054nno7q9lkxpi" of relation "orders" does not exist, skipping
11:36:57.325 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint UK_pey7355pwxl054nno7q9lkxpi unique (current_location_id)
11:36:57.328 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists UK_3bki4evc7mq4wghqby697ryyx
11:36:57.329 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:36:57.330 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_3bki4evc7mq4wghqby697ryyx" of relation "orders" does not exist, skipping
11:36:57.330 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint UK_3bki4evc7mq4wghqby697ryyx unique (destination_address_id)
11:36:57.333 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists UK_ilmmmak5x2so4bmeh24ioi4fr
11:36:57.334 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:36:57.334 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_ilmmmak5x2so4bmeh24ioi4fr" of relation "orders" does not exist, skipping
11:36:57.334 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint UK_ilmmmak5x2so4bmeh24ioi4fr unique (source_address_id)
11:36:57.337 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists UK_harfokckjbtbqihbp8lr44h57
11:36:57.338 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:36:57.338 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_harfokckjbtbqihbp8lr44h57" of relation "transports" does not exist, skipping
11:36:57.338 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint UK_harfokckjbtbqihbp8lr44h57 unique (carrier_id)
11:36:57.340 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK_r43af9ap4edm43mmtq01oddj6
11:36:57.341 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
11:36:57.342 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk_r43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
11:36:57.342 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
11:36:57.345 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       add constraint FKqaw7vqyrwpqych5yeuwyjcyjs 
       foreign key (id) 
       references users
11:36:57.351 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKpa2ye2pqmpd55sy72g6ho2hbr 
       foreign key (order_id) 
       references orders
11:36:57.357 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKkxttj4tp5le2uth212lu49vny 
       foreign key (user_id) 
       references users
11:36:57.358 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKk6ql5aqbb1c1qjsk22bhotfxv 
       foreign key (broker_id) 
       references users
11:36:57.360 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKb47jiphk85fc69thu4g3ujq7f 
       foreign key (carrier_id) 
       references users
11:36:57.363 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK7ew63b14w8j2wq3daldcdgbx0 
       foreign key (current_location_id) 
       references addresses
11:36:57.365 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKnjq7xrupks4ys8g5mmtkchlqg 
       foreign key (destination_address_id) 
       references addresses
11:36:57.368 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKm1hb2iybrajm11caj5f8nce5l 
       foreign key (type_id) 
       references product_types
11:36:57.370 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKmjnf91amspoh2m4qg8ct5y8uj 
       foreign key (shipper_id) 
       references users
11:36:57.371 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK8b39epmo9mapvq405ynbsida2 
       foreign key (source_address_id) 
       references addresses
11:36:57.373 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKbx9r9uw77p58gsq4mus0mec0o 
       foreign key (permission_id) 
       references permissions
11:36:57.378 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKqi9odri6c1o81vjox54eedwyh 
       foreign key (role_id) 
       references roles
11:36:57.381 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKlv4tu9vlg15w63rl1v78kf4fj 
       foreign key (agent_id) 
       references agents
11:36:57.386 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKrm2pxhumjebm7x60q5fsihlit 
       foreign key (carrier_id) 
       references users
11:36:57.389 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint FK4c6vlshk8x83ifeoggi3exg3k 
       foreign key (role) 
       references roles
11:36:57.394 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
11:36:58.120 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
11:36:58.850 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:36:59.184 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47a9bcf1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17c95612, org.springframework.security.web.context.SecurityContextHolderFilter@639f5460, org.springframework.security.web.header.HeaderWriterFilter@cf822a6, org.springframework.web.filter.CorsFilter@1ca2d595, org.springframework.security.web.authentication.logout.LogoutFilter@3fb8e8cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@67a6f2c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a5478e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7953a656, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92a584f, org.springframework.security.web.access.ExceptionTranslationFilter@32950acc, org.springframework.security.web.access.intercept.AuthorizationFilter@7d26b390]
11:36:59.471 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:36:59.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
11:36:59.472 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:36:59.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
11:36:59.472 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:36:59.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
11:36:59.472 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:36:59.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
11:36:59.485 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 85950de6-c1b0-42ac-a0c8-f64bf00d9fe4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

11:36:59.524 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
11:36:59.550 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
11:36:59.561 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.296 seconds (process running for 8.208)
11:37:24.443 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
11:37:24.445 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
11:37:24.449 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
11:37:27.643 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
11:37:27.690 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 18172 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
11:37:27.692 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
11:37:28.944 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:37:29.148 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 179 ms. Found 8 JPA repository interfaces.
11:37:29.869 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
11:37:29.875 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
11:37:29.878 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
11:37:29.878 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
11:37:30.001 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
11:37:30.002 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2254 ms
11:37:30.165 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
11:37:30.360 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d66e544
11:37:30.374 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
11:37:30.691 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
11:37:30.954 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
11:37:31.308 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:37:31.349 [main] INFO  liquibase.command - Using deploymentId: 8794651312
11:37:31.386 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
11:37:31.463 [main] INFO  liquibase.changelog - SQL in file db/sql/init_db.sql executed
11:37:31.465 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::bsavelev ran successfully in 62ms
11:37:31.472 [main] INFO  liquibase.util - UPDATE SUMMARY
11:37:31.472 [main] INFO  liquibase.util - Run:                          1
11:37:31.472 [main] INFO  liquibase.util - Previously run:               0
11:37:31.472 [main] INFO  liquibase.util - Filtered out:                 0
11:37:31.472 [main] INFO  liquibase.util - -------------------------------
11:37:31.472 [main] INFO  liquibase.util - Total change sets:            1

11:37:31.473 [main] INFO  liquibase.util - Update summary generated
11:37:31.473 [main] INFO  liquibase.command - Update command completed successfully.
11:37:31.477 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:37:31.480 [main] INFO  liquibase.lockservice - Successfully released change log lock
11:37:31.482 [main] INFO  liquibase.command - Command execution complete
11:37:31.591 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
11:37:31.659 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
11:37:31.661 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
11:37:31.795 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:37:31.938 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
11:37:32.310 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
11:37:33.560 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
11:37:33.628 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
11:37:33.632 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
11:37:33.634 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
11:37:33.643 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
11:37:33.645 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
11:37:33.646 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
11:37:33.648 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
11:37:33.649 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
11:37:33.650 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
11:37:33.651 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
11:37:33.652 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
11:37:33.787 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
11:37:34.470 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
11:37:35.233 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:37:35.559 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59e5ecab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79e0f00b, org.springframework.security.web.context.SecurityContextHolderFilter@336c4e3a, org.springframework.security.web.header.HeaderWriterFilter@27e688ad, org.springframework.web.filter.CorsFilter@5623354e, org.springframework.security.web.authentication.logout.LogoutFilter@5e9650d3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@234523e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@339cedbb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62f11904, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5565fc22, org.springframework.security.web.access.ExceptionTranslationFilter@141962b8, org.springframework.security.web.access.intercept.AuthorizationFilter@793942d9]
11:37:35.841 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:37:35.841 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
11:37:35.841 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:37:35.841 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
11:37:35.841 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:37:35.841 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
11:37:35.841 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
11:37:35.841 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
11:37:35.854 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2bc6566b-6718-45a7-9a77-2ef63464a64a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

11:37:35.893 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
11:37:35.922 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
11:37:35.930 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.609 seconds (process running for 9.723)
11:39:26.888 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
11:39:26.888 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
11:39:26.889 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
11:39:27.223 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
11:39:27.249 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
11:39:27.262 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        agents
        (company_address,company_name,percent_to_express,percent_to_standard,price_per_km,price_per_lb,id) 
    values
        (?,?,?,?,?,?,?)
11:39:31.556 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
11:39:31.561 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
11:39:42.066 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
11:39:42.069 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
11:40:29.140 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
11:40:29.142 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
11:40:51.220 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
11:40:51.223 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
11:40:51.230 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        agents
        (company_address,company_name,percent_to_express,percent_to_standard,price_per_km,price_per_lb,id) 
    values
        (?,?,?,?,?,?,?)
11:40:57.350 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
11:40:57.352 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
11:41:12.059 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:41:12.095 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:41:12.111 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:41:23.204 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:41:23.208 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:41:23.212 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:41:44.225 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:41:44.404 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:41:44.406 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:41:44.411 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:41:44.416 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:41:44.420 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:41:44.424 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:42:40.838 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:42:40.915 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:42:40.916 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:42:40.916 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:42:40.920 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:42:40.923 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:42:40.927 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:42:50.762 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:42:50.767 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:42:50.771 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:43:19.530 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:43:19.609 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:43:19.610 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:43:19.611 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:43:19.615 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:43:19.622 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:43:19.627 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:44:15.136 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:44:15.209 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:44:15.210 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:44:15.212 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:44:38.835 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:44:38.840 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:44:38.844 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:45:30.221 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s394ms461s100ns).
11:45:35.982 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:45:35.989 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:45:36.007 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:45:36.244 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.259 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.267 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.275 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.282 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.288 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.292 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.296 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.302 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.305 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.310 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.316 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.322 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.327 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.333 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.role_id,
        p1_1.name 
    from
        roles_permissions p1_0 
    join
        permissions p1_1 
            on p1_1.name=p1_0.permission_id 
    where
        p1_0.role_id=?
11:45:36.338 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.342 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.350 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.357 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.364 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.371 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.permission_id,
        t1_1.name 
    from
        roles_permissions t1_0 
    join
        roles t1_1 
            on t1_1.name=t1_0.role_id 
    where
        t1_0.permission_id=?
11:45:36.402 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        d1_0.user_id,
        d1_0.id,
        d1_0.format,
        d1_0.name,
        o1_0.id,
        b1_0.id,
        case 
            when b1_1.id is not null then 1 
            when b1_0.id is not null then 0 
        end,
        b1_0.address,
        b1_0.birth_date,
        b1_0.created_at,
        b1_0.fio,
        b1_0.is_confirmed,
        b1_0.password,
        b1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        b1_0.username,
        b1_1.company_address,
        b1_1.company_name,
        b1_1.percent_to_express,
        b1_1.percent_to_standard,
        b1_1.price_per_km,
        b1_1.price_per_lb,
        b1_1.id,
        c1_0.id,
        case 
            when c1_1.id is not null then 1 
            when c1_0.id is not null then 0 
        end,
        c1_0.address,
        c1_0.birth_date,
        c1_0.created_at,
        c1_0.fio,
        c1_0.is_confirmed,
        c1_0.password,
        c1_0.phone,
        r3_0.name,
        t2_0.id,
        a2_0.id,
        a2_1.address,
        a2_1.birth_date,
        a2_1.created_at,
        a2_1.fio,
        a2_1.is_confirmed,
        a2_1.password,
        a2_1.phone,
        r4_0.name,
        a2_1.id,
        a2_1.username,
        a2_0.company_address,
        a2_0.company_name,
        a2_0.percent_to_express,
        a2_0.percent_to_standard,
        a2_0.price_per_km,
        a2_0.price_per_lb,
        t2_0.capacity,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        c1_0.username,
        c1_1.company_address,
        c1_1.company_name,
        c1_1.percent_to_express,
        c1_1.percent_to_standard,
        c1_1.price_per_km,
        c1_1.price_per_lb,
        c1_1.id,
        o1_0.created_date,
        c2_0.id,
        c2_0.address,
        c2_0.city,
        c2_0.latitude,
        c2_0.longitude,
        c2_0.state,
        c2_0.type,
        o1_0.delivered_date,
        d2_0.id,
        d2_0.address,
        d2_0.city,
        d2_0.latitude,
        d2_0.longitude,
        d2_0.state,
        d2_0.type,
        o1_0.duration,
        o1_0.estimated_delivery_date,
        o1_0.name,
        o1_0.type,
        o1_0.price,
        p1_0.name,
        s1_0.id,
        case 
            when s1_1.id is not null then 1 
            when s1_0.id is not null then 0 
        end,
        s1_0.address,
        s1_0.birth_date,
        s1_0.created_at,
        s1_0.fio,
        s1_0.is_confirmed,
        s1_0.password,
        s1_0.phone,
        r5_0.name,
        t3_0.id,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r6_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        t3_0.capacity,
        t3_0.model,
        t3_0.number,
        t3_0.type,
        s1_0.username,
        s1_1.company_address,
        s1_1.company_name,
        s1_1.percent_to_express,
        s1_1.percent_to_standard,
        s1_1.price_per_km,
        s1_1.price_per_lb,
        s1_1.id,
        s2_0.id,
        s2_0.address,
        s2_0.city,
        s2_0.latitude,
        s2_0.longitude,
        s2_0.state,
        s2_0.type,
        o1_0.status,
        o1_0.taken_date,
        o1_0.distance,
        o1_0.total_price,
        o1_0.volume,
        d1_0.type 
    from
        documents d1_0 
    left join
        orders o1_0 
            on o1_0.id=d1_0.order_id 
    left join
        (users b1_0 
    left join
        agents b1_1 
            on b1_0.id=b1_1.id) 
                on b1_0.id=o1_0.broker_id 
        left join
            roles r1_0 
                on r1_0.name=b1_0.role 
        left join
            transports t1_0 
                on b1_0.id=t1_0.carrier_id 
        left join
            (agents a1_0 
        join
            users a1_1 
                on a1_0.id=a1_1.id) 
                    on a1_0.id=t1_0.agent_id 
            left join
                roles r2_0 
                    on r2_0.name=a1_1.role 
            left join
                (users c1_0 
            left join
                agents c1_1 
                    on c1_0.id=c1_1.id) 
                        on c1_0.id=o1_0.carrier_id 
                left join
                    roles r3_0 
                        on r3_0.name=c1_0.role 
                left join
                    transports t2_0 
                        on c1_0.id=t2_0.carrier_id 
                left join
                    (agents a2_0 
                join
                    users a2_1 
                        on a2_0.id=a2_1.id) 
                            on a2_0.id=t2_0.agent_id 
                    left join
                        roles r4_0 
                            on r4_0.name=a2_1.role 
                    left join
                        addresses c2_0 
                            on c2_0.id=o1_0.current_location_id 
                    left join
                        addresses d2_0 
                            on d2_0.id=o1_0.destination_address_id 
                    left join
                        product_types p1_0 
                            on p1_0.name=o1_0.type_id 
                    left join
                        (users s1_0 
                    left join
                        agents s1_1 
                            on s1_0.id=s1_1.id) 
                                on s1_0.id=o1_0.shipper_id 
                        left join
                            roles r5_0 
                                on r5_0.name=s1_0.role 
                        left join
                            transports t3_0 
                                on s1_0.id=t3_0.carrier_id 
                        left join
                            (agents a3_0 
                        join
                            users a3_1 
                                on a3_0.id=a3_1.id) 
                                    on a3_0.id=t3_0.agent_id 
                            left join
                                roles r6_0 
                                    on r6_0.name=a3_1.role 
                            left join
                                addresses s2_0 
                                    on s2_0.id=o1_0.source_address_id 
                            where
                                d1_0.user_id=?
11:46:24.673 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s452ms966s700ns).
11:47:54.998 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:47:55.074 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:47:55.074 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:47:55.074 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:48:58.413 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m3s716ms345s500ns).
11:49:46.905 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s491ms723s600ns).
11:49:46.913 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:49:46.917 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:49:46.921 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:50:35.341 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:50:35.419 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:50:35.420 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:50:35.420 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:50:42.688 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:50:42.695 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:50:42.699 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:52:03.602 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:52:03.672 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:52:03.673 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:52:03.673 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:52:03.678 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:52:03.681 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:52:03.684 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:54:09.304 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:54:09.381 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:54:09.381 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:54:09.382 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:54:09.385 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:54:09.386 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:54:09.389 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:56:47.230 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:56:47.302 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:56:47.303 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:56:47.304 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:56:47.307 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:56:47.311 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:56:47.315 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:56:55.847 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:56:55.921 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:56:55.922 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:56:55.923 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:56:55.928 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:56:55.932 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:56:55.935 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:57:15.105 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /carriers/order/ACCEPTED
11:57:15.179 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:57:15.180 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:57:15.180 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /carriers/order/ACCEPTED
11:57:15.198 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:57:15.201 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:57:15.206 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
11:57:15.224 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.broker_id,
        o1_0.carrier_id,
        o1_0.created_date,
        o1_0.current_location_id,
        o1_0.delivered_date,
        o1_0.destination_address_id,
        o1_0.duration,
        o1_0.estimated_delivery_date,
        o1_0.name,
        o1_0.type,
        o1_0.price,
        o1_0.type_id,
        o1_0.shipper_id,
        o1_0.source_address_id,
        o1_0.status,
        o1_0.taken_date,
        o1_0.distance,
        o1_0.total_price,
        o1_0.volume 
    from
        orders o1_0 
    where
        o1_0.carrier_id=? 
        and o1_0.status=?
11:58:03.643 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
11:58:03.711 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
11:58:03.713 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
11:58:03.713 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
11:58:03.716 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
11:58:03.719 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
11:58:03.722 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
12:00:44.653 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
12:00:44.722 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
12:00:44.722 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
12:00:44.724 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
12:00:44.729 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
12:00:44.732 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
12:00:44.734 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
12:00:54.818 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
12:00:54.820 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
12:00:54.873 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/profile?continue to session
12:00:54.873 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
12:00:54.874 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@32e19cb
12:00:59.667 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
12:00:59.738 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
12:00:59.738 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E226C0C1D3925FDFCDDBBF835494F797], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
12:00:59.739 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
12:00:59.741 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
12:00:59.745 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
12:00:59.749 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
12:04:32.704 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
12:04:32.775 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
12:04:32.776 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent1, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E226C0C1D3925FDFCDDBBF835494F797], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
12:04:32.776 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
12:04:32.780 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
12:04:32.785 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
12:04:32.788 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
12:28:39.395 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:28:39.398 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:28:39.402 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:28:46.179 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:28:46.229 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 5644 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:28:46.230 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:28:47.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:28:47.191 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 8 JPA repository interfaces.
12:28:47.930 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:28:47.937 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:28:47.938 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:28:47.938 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:28:48.040 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:28:48.041 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1778 ms
12:28:48.214 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:28:48.473 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@299b9851
12:28:48.475 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:28:48.792 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:28:49.018 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
12:28:49.367 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:28:49.428 [main] INFO  liquibase.changelog - Change failed validation!
12:28:49.440 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:28:49.446 [main] INFO  liquibase.command - Command execution complete
12:28:49.448 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::bsavelev was: 8:f073dc2d7524e826bd409cedeb01014d but is now: 8:294d35dfebe3e58705a04d98b52f7553

12:28:49.448 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:28:49.522 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:28:49.527 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
12:28:49.544 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:28:49.561 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::bsavelev was: 8:f073dc2d7524e826bd409cedeb01014d but is now: 8:294d35dfebe3e58705a04d98b52f7553

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::bsavelev was: 8:f073dc2d7524e826bd409cedeb01014d but is now: 8:294d35dfebe3e58705a04d98b52f7553

	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::bsavelev was: 8:f073dc2d7524e826bd409cedeb01014d but is now: 8:294d35dfebe3e58705a04d98b52f7553

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:354)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:80)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
12:29:23.660 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:29:23.702 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 15768 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:29:23.702 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:29:24.581 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:29:24.723 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 125 ms. Found 8 JPA repository interfaces.
12:29:25.428 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:29:25.435 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:29:25.436 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:29:25.436 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:29:25.534 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:29:25.534 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1795 ms
12:29:25.717 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:29:25.905 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@191a0351
12:29:25.908 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:29:26.259 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:29:26.413 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
12:29:26.652 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:29:26.672 [main] INFO  liquibase.command - Using deploymentId: 8797766657
12:29:26.707 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:29:26.757 [main] ERROR liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::tkambarov encountered an exception.
12:29:26.759 [main] INFO  liquibase.command - Update command encountered an exception.
12:29:26.761 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:29:26.762 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:29:26.762 [main] INFO  liquibase.command - Command execution complete
12:29:26.764 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
12:29:26.764 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:29:26.779 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:29:26.782 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
12:29:26.793 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:29:26.809 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:123)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:102)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:99)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:761)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:68)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:718)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
12:29:51.157 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:29:51.218 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 3560 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:29:51.219 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:29:52.292 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:29:52.457 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 8 JPA repository interfaces.
12:29:53.063 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:29:53.071 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:29:53.076 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:29:53.076 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:29:53.191 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:29:53.191 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1938 ms
12:29:53.372 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:29:53.604 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2416c658
12:29:53.605 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:29:53.939 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:29:54.168 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
12:29:54.524 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:29:54.557 [main] INFO  liquibase.command - Using deploymentId: 8797794528
12:29:54.585 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:29:54.659 [main] ERROR liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::tkambarov encountered an exception.
12:29:54.661 [main] INFO  liquibase.command - Update command encountered an exception.
12:29:54.666 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:29:54.670 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:29:54.671 [main] INFO  liquibase.command - Command execution complete
12:29:54.672 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
12:29:54.673 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:29:54.678 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:29:54.682 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
12:29:54.695 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:29:54.712 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:123)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:102)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:99)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:761)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:68)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists. [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:718)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Detail: Key (name)=(ROLE_CARRIER) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
12:30:37.573 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:30:37.615 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 15416 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:30:37.616 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:30:38.605 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:30:38.770 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 148 ms. Found 8 JPA repository interfaces.
12:30:39.417 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:30:39.426 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:30:39.428 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:30:39.428 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:30:39.551 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:30:39.552 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1882 ms
12:30:39.733 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:30:40.053 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6c9b44bf
12:30:40.055 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:30:40.343 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:30:40.392 [main] INFO  liquibase.command - Dropping Database Objects in schema: logistic-connection.public
12:30:40.969 [main] INFO  liquibase.database - Successfully deleted all supported object types in schema logistic-connection.public.
12:30:40.979 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:30:40.982 [main] INFO  liquibase.command - Command execution complete
12:30:41.041 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:30:41.314 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
12:30:41.540 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
12:30:41.550 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:30:41.572 [main] INFO  liquibase.command - Using deploymentId: 8797841556
12:30:41.574 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:30:41.675 [main] ERROR liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::tkambarov encountered an exception.
12:30:41.687 [main] INFO  liquibase.command - Update command encountered an exception.
12:30:41.690 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:30:41.694 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:30:41.695 [main] INFO  liquibase.command - Command execution complete
12:30:41.696 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
12:30:41.697 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:30:41.702 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:30:41.708 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
12:30:41.725 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:30:41.745 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:123)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:102)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:99)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/202307081100_init_db.xml::init_db::tkambarov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:761)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:111)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:94)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:68)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "roles" does not exist
  Position: 13 [Failed SQL: (0) insert into roles (name) values ('ROLE_CARRIER'), ('ROLE_SHIPPER'), ('ROLE_BROKER'), ('ROLE_AGENT');
insert into permissions (name) values ('order.read'), ('order.edit'), ('user.read'),
                                      ('user.edit'), ('file.read'), ('file.edit'),
                                      ('productType.read'), ('productType.edit'),
                                      ('address.read'), ('address.edit');
insert into product_types(name) values ('ELECTRONICS');
insert into roles_permissions (role_id, permission_id) values ('ROLE_CARRIER', 'user.read'),
                                                              ('ROLE_CARRIER', 'order.read'),
                                                              ('ROLE_CARRIER', 'order.edit'),                                                                                  ('ROLE_CARRIER', 'productType.edit'),                                                                                                           ('ROLE_CARRIER', 'productType.read'),                                                                                  ('ROLE_CARRIER', 'address.edit'),                                                                                                           ('ROLE_CARRIER', 'address.read'),
                                                              ('ROLE_CARRIER', 'file.read'),
                                                              ('ROLE_CARRIER', 'file.edit'),

                                                              ('ROLE_SHIPPER', 'user.read'),
                                                              ('ROLE_SHIPPER', 'order.read'),
                                                              ('ROLE_SHIPPER', 'order.edit'),
                                                              ('ROLE_SHIPPER', 'file.read'),
                                                              ('ROLE_SHIPPER', 'file.edit'),
                                                              ('ROLE_SHIPPER', 'productType.read'),
                                                              ('ROLE_SHIPPER', 'productType.edit'),
                                                              ('ROLE_SHIPPER', 'address.read'),
                                                              ('ROLE_SHIPPER', 'address.edit'),

                                                              ('ROLE_BROKER', 'user.read'),
                                                              ('ROLE_BROKER', 'user.edit'),
                                                              ('ROLE_BROKER', 'order.read'),
                                                              ('ROLE_BROKER', 'order.edit'),
                                                              ('ROLE_BROKER', 'file.read'),
                                                              ('ROLE_BROKER', 'file.edit'),
                                                              ('ROLE_BROKER', 'productType.read'),
                                                              ('ROLE_BROKER', 'productType.edit'),
                                                              ('ROLE_BROKER', 'address.read'),
                                                              ('ROLE_BROKER', 'address.edit'),

                                                              ('ROLE_AGENT', 'file.read'),
                                                              ('ROLE_AGENT', 'file.edit'),
                                                              ('ROLE_AGENT', 'productType.read'),
                                                              ('ROLE_AGENT', 'productType.edit'),
                                                              ('ROLE_AGENT', 'address.read'),
                                                              ('ROLE_AGENT', 'address.edit');

insert into users (address, birth_date, created_at, fio, is_confirmed, password, phone, username, role)
values ('Ahunbaeva 123', '2001-08-19', now(), 'Admin Admin', true, '$2a$10$8.UnVuG9HHgffUDAlk8qfOuVGkqRzgVymGe07xd00DMxs.AQubh4a', '996996996996', 'broker', 'ROLE_BROKER')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:718)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "roles" does not exist
  Position: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
12:36:41.830 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:36:41.871 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 24044 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:36:41.872 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:36:42.846 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:36:43.037 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 171 ms. Found 8 JPA repository interfaces.
12:36:43.782 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:36:43.790 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:36:43.792 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:36:43.792 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:36:43.904 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:36:43.907 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1982 ms
12:36:43.972 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Circular depends-on relationship between 'liquibase' and 'entityManagerFactory'
12:36:43.975 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
12:36:43.993 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:36:44.013 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Circular depends-on relationship between 'liquibase' and 'entityManagerFactory'
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
12:37:35.558 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:37:35.594 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 7868 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:37:35.596 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:37:36.536 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:37:36.669 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 8 JPA repository interfaces.
12:37:37.308 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:37:37.316 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:37:37.318 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:37:37.318 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:37:37.434 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:37:37.434 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1803 ms
12:37:37.500 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Circular depends-on relationship between 'liquibase' and 'entityManagerFactory'
12:37:37.504 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
12:37:37.526 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:37:37.549 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Circular depends-on relationship between 'liquibase' and 'entityManagerFactory'
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
12:38:20.909 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:38:20.991 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 25496 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:38:20.992 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:38:22.041 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:38:22.229 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 8 JPA repository interfaces.
12:38:22.954 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:38:22.963 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:38:22.964 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:38:22.966 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:38:23.101 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:38:23.102 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2076 ms
12:38:23.277 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:38:23.329 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
12:38:23.330 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
12:38:23.493 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:38:23.631 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:38:23.648 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:38:23.990 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d001fbe
12:38:24.000 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:38:24.473 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:38:25.657 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
12:38:25.673 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
12:38:25.674 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.676 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "agents" does not exist, skipping
12:38:25.676 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
12:38:25.676 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.676 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "documents" does not exist, skipping
12:38:25.677 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
12:38:25.677 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.678 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "documents" does not exist, skipping
12:38:25.679 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
12:38:25.680 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.680 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.680 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
12:38:25.681 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.681 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.681 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
12:38:25.682 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.682 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.682 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
12:38:25.682 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.682 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.683 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
12:38:25.683 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.683 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.683 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
12:38:25.684 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.684 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.684 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
12:38:25.684 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.684 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "orders" does not exist, skipping
12:38:25.686 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
12:38:25.686 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.686 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "roles_permissions" does not exist, skipping
12:38:25.687 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
12:38:25.688 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.688 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "roles_permissions" does not exist, skipping
12:38:25.688 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
12:38:25.689 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.689 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "transports" does not exist, skipping
12:38:25.689 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
12:38:25.690 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.690 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "transports" does not exist, skipping
12:38:25.690 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
12:38:25.691 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.691 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "users" does not exist, skipping
12:38:25.692 [main] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
12:38:25.693 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.693 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "addresses" does not exist, skipping
12:38:25.693 [main] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
12:38:25.694 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.694 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "agents" does not exist, skipping
12:38:25.700 [main] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
12:38:25.701 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.701 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "documents" does not exist, skipping
12:38:25.701 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
12:38:25.701 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.701 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "orders" does not exist, skipping
12:38:25.702 [main] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
12:38:25.702 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.702 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "permissions" does not exist, skipping
12:38:25.702 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
12:38:25.703 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.703 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "product_types" does not exist, skipping
12:38:25.703 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
12:38:25.704 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.704 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "roles" does not exist, skipping
12:38:25.704 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
12:38:25.705 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.705 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "roles_permissions" does not exist, skipping
12:38:25.706 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
12:38:25.706 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.706 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "transports" does not exist, skipping
12:38:25.706 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
12:38:25.707 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
12:38:25.707 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "users" does not exist, skipping
12:38:25.720 [main] DEBUG org.hibernate.SQL - 
    create table addresses (
        latitude float(53),
        longitude float(53),
        id bigserial not null,
        address varchar(255),
        city varchar(255),
        state varchar(255),
        type varchar(255) check (type in ('CURRENT','SOURCE','DESTINATION')),
        primary key (id)
    )
12:38:25.736 [main] DEBUG org.hibernate.SQL - 
    create table agents (
        percent_to_express integer,
        percent_to_standard integer,
        price_per_km integer,
        price_per_lb integer,
        id bigint not null,
        company_address varchar(255),
        company_name varchar(255),
        primary key (id)
    )
12:38:25.746 [main] DEBUG org.hibernate.SQL - 
    create table documents (
        id bigserial not null,
        order_id integer,
        user_id integer,
        format varchar(255),
        name varchar(255),
        type varchar(255) check (type in ('CV','PASSPORT','DRIVERS_LICENSES','INSURANCE','TECH_PASSPORT')),
        primary key (id)
    )
12:38:25.758 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        distance float(53),
        total_price float(53),
        volume integer,
        broker_id bigint,
        carrier_id bigint,
        created_date TIMESTAMP,
        current_location_id bigint unique,
        delivered_date TIMESTAMP,
        destination_address_id bigint unique,
        estimated_delivery_date TIMESTAMP,
        id bigserial not null,
        price bigint,
        shipper_id bigint,
        source_address_id bigint unique,
        taken_date TIMESTAMP,
        duration varchar(255),
        name varchar(255),
        status varchar(255) check (status in ('WAITING','TAKEN','CONFIRMED','ACCEPTED','SHIPPED','DELIVERED','REJECTED')),
        type varchar(255) check (type in ('STANDARD','EXPRESS')),
        type_id varchar(255),
        primary key (id)
    )
12:38:25.773 [main] DEBUG org.hibernate.SQL - 
    create table permissions (
        name varchar(255) not null,
        primary key (name)
    )
12:38:25.778 [main] DEBUG org.hibernate.SQL - 
    create table product_types (
        name varchar(255) not null,
        primary key (name)
    )
12:38:25.782 [main] DEBUG org.hibernate.SQL - 
    create table roles (
        name varchar(255) not null,
        primary key (name)
    )
12:38:25.786 [main] DEBUG org.hibernate.SQL - 
    create table roles_permissions (
        permission_id varchar(255) not null,
        role_id varchar(255) not null,
        primary key (permission_id, role_id)
    )
12:38:25.792 [main] DEBUG org.hibernate.SQL - 
    create table transports (
        capacity integer,
        agent_id bigint,
        carrier_id bigint unique,
        id bigserial not null,
        model varchar(255),
        number varchar(255),
        type varchar(255) check (type in ('TRUCK','PASSENGER_CAR')),
        primary key (id)
    )
12:38:25.802 [main] DEBUG org.hibernate.SQL - 
    create table users (
        birth_date date,
        is_confirmed boolean,
        created_at timestamp(6),
        id bigserial not null,
        address varchar(255),
        fio varchar(255),
        password varchar(255),
        phone varchar(255),
        role varchar(255),
        username varchar(255) unique,
        primary key (id)
    )
12:38:25.814 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       add constraint FKqaw7vqyrwpqych5yeuwyjcyjs 
       foreign key (id) 
       references users
12:38:25.819 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKpa2ye2pqmpd55sy72g6ho2hbr 
       foreign key (order_id) 
       references orders
12:38:25.824 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKkxttj4tp5le2uth212lu49vny 
       foreign key (user_id) 
       references users
12:38:25.827 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKk6ql5aqbb1c1qjsk22bhotfxv 
       foreign key (broker_id) 
       references users
12:38:25.828 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKb47jiphk85fc69thu4g3ujq7f 
       foreign key (carrier_id) 
       references users
12:38:25.829 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK7ew63b14w8j2wq3daldcdgbx0 
       foreign key (current_location_id) 
       references addresses
12:38:25.832 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKnjq7xrupks4ys8g5mmtkchlqg 
       foreign key (destination_address_id) 
       references addresses
12:38:25.833 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKm1hb2iybrajm11caj5f8nce5l 
       foreign key (type_id) 
       references product_types
12:38:25.835 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKmjnf91amspoh2m4qg8ct5y8uj 
       foreign key (shipper_id) 
       references users
12:38:25.836 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK8b39epmo9mapvq405ynbsida2 
       foreign key (source_address_id) 
       references addresses
12:38:25.837 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKbx9r9uw77p58gsq4mus0mec0o 
       foreign key (permission_id) 
       references permissions
12:38:25.841 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKqi9odri6c1o81vjox54eedwyh 
       foreign key (role_id) 
       references roles
12:38:25.843 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKlv4tu9vlg15w63rl1v78kf4fj 
       foreign key (agent_id) 
       references agents
12:38:25.846 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKrm2pxhumjebm7x60q5fsihlit 
       foreign key (carrier_id) 
       references users
12:38:25.848 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint FK4c6vlshk8x83ifeoggi3exg3k 
       foreign key (role) 
       references roles
12:38:25.852 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:38:26.717 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:38:27.473 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:38:27.796 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@255845b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e02113, org.springframework.security.web.context.SecurityContextHolderFilter@79b3f1c6, org.springframework.security.web.header.HeaderWriterFilter@11fd6f02, org.springframework.web.filter.CorsFilter@59a79420, org.springframework.security.web.authentication.logout.LogoutFilter@76b06e50, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72a1ccad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@172f88b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51ea9f02, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a77d2a5, org.springframework.security.web.access.ExceptionTranslationFilter@14574cdf, org.springframework.security.web.access.intercept.AuthorizationFilter@3760f3e8]
12:38:28.072 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:38:28.073 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
12:38:28.073 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:38:28.073 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
12:38:28.074 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:38:28.074 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
12:38:28.074 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:38:28.074 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
12:38:28.117 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 91ddb909-f78a-40e6-a190-5baf1cd02e2f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

12:38:28.164 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
12:38:28.194 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
12:38:28.205 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.664 seconds (process running for 8.532)
12:41:14.809 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:41:14.812 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:41:14.818 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:47:34.796 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:47:34.829 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 15804 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:47:34.830 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:47:35.627 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:47:35.773 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131 ms. Found 8 JPA repository interfaces.
12:47:36.373 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:47:36.379 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:47:36.381 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:47:36.381 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:47:36.468 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:47:36.468 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1602 ms
12:47:36.702 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:47:36.755 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
12:47:36.757 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
12:47:36.933 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:47:37.080 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:47:37.097 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:47:37.269 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@52909a97
12:47:37.272 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:47:37.742 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:47:39.166 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
12:47:39.185 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
12:47:39.190 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
12:47:39.191 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
12:47:39.192 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
12:47:39.194 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
12:47:39.195 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
12:47:39.196 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
12:47:39.196 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
12:47:39.198 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
12:47:39.199 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
12:47:39.200 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
12:47:39.203 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
12:47:39.204 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
12:47:39.206 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
12:47:39.207 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
12:47:39.208 [main] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
12:47:39.215 [main] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
12:47:39.219 [main] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
12:47:39.223 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
12:47:39.230 [main] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
12:47:39.231 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
12:47:39.234 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
12:47:39.236 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
12:47:39.239 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
12:47:39.243 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
12:47:39.256 [main] DEBUG org.hibernate.SQL - 
    create table addresses (
        latitude float(53),
        longitude float(53),
        id bigserial not null,
        address varchar(255),
        city varchar(255),
        state varchar(255),
        type varchar(255) check (type in ('CURRENT','SOURCE','DESTINATION')),
        primary key (id)
    )
12:47:39.274 [main] DEBUG org.hibernate.SQL - 
    create table agents (
        percent_to_express integer,
        percent_to_standard integer,
        price_per_km integer,
        price_per_lb integer,
        id bigint not null,
        company_address varchar(255),
        company_name varchar(255),
        primary key (id)
    )
12:47:39.283 [main] DEBUG org.hibernate.SQL - 
    create table documents (
        id bigserial not null,
        order_id integer,
        user_id integer,
        format varchar(255),
        name varchar(255),
        type varchar(255) check (type in ('CV','PASSPORT','DRIVERS_LICENSES','INSURANCE','TECH_PASSPORT')),
        primary key (id)
    )
12:47:39.293 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        distance float(53),
        total_price float(53),
        volume integer,
        broker_id bigint,
        carrier_id bigint,
        created_date TIMESTAMP,
        current_location_id bigint unique,
        delivered_date TIMESTAMP,
        destination_address_id bigint unique,
        estimated_delivery_date TIMESTAMP,
        id bigserial not null,
        price bigint,
        shipper_id bigint,
        source_address_id bigint unique,
        taken_date TIMESTAMP,
        duration varchar(255),
        name varchar(255),
        status varchar(255) check (status in ('WAITING','TAKEN','CONFIRMED','ACCEPTED','SHIPPED','DELIVERED','REJECTED')),
        type varchar(255) check (type in ('STANDARD','EXPRESS')),
        type_id varchar(255),
        primary key (id)
    )
12:47:39.307 [main] DEBUG org.hibernate.SQL - 
    create table permissions (
        name varchar(255) not null,
        primary key (name)
    )
12:47:39.311 [main] DEBUG org.hibernate.SQL - 
    create table product_types (
        name varchar(255) not null,
        primary key (name)
    )
12:47:39.315 [main] DEBUG org.hibernate.SQL - 
    create table roles (
        name varchar(255) not null,
        primary key (name)
    )
12:47:39.318 [main] DEBUG org.hibernate.SQL - 
    create table roles_permissions (
        permission_id varchar(255) not null,
        role_id varchar(255) not null,
        primary key (permission_id, role_id)
    )
12:47:39.324 [main] DEBUG org.hibernate.SQL - 
    create table transports (
        capacity integer,
        agent_id bigint,
        carrier_id bigint unique,
        id bigserial not null,
        model varchar(255),
        number varchar(255),
        type varchar(255) check (type in ('TRUCK','PASSENGER_CAR')),
        primary key (id)
    )
12:47:39.336 [main] DEBUG org.hibernate.SQL - 
    create table users (
        birth_date date,
        is_confirmed boolean,
        created_at timestamp(6),
        id bigserial not null,
        address varchar(255),
        fio varchar(255),
        password varchar(255),
        phone varchar(255),
        role varchar(255),
        username varchar(255) unique,
        primary key (id)
    )
12:47:39.348 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       add constraint FKqaw7vqyrwpqych5yeuwyjcyjs 
       foreign key (id) 
       references users
12:47:39.355 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKpa2ye2pqmpd55sy72g6ho2hbr 
       foreign key (order_id) 
       references orders
12:47:39.362 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKkxttj4tp5le2uth212lu49vny 
       foreign key (user_id) 
       references users
12:47:39.365 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKk6ql5aqbb1c1qjsk22bhotfxv 
       foreign key (broker_id) 
       references users
12:47:39.368 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKb47jiphk85fc69thu4g3ujq7f 
       foreign key (carrier_id) 
       references users
12:47:39.369 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK7ew63b14w8j2wq3daldcdgbx0 
       foreign key (current_location_id) 
       references addresses
12:47:39.371 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKnjq7xrupks4ys8g5mmtkchlqg 
       foreign key (destination_address_id) 
       references addresses
12:47:39.373 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKm1hb2iybrajm11caj5f8nce5l 
       foreign key (type_id) 
       references product_types
12:47:39.377 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKmjnf91amspoh2m4qg8ct5y8uj 
       foreign key (shipper_id) 
       references users
12:47:39.379 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK8b39epmo9mapvq405ynbsida2 
       foreign key (source_address_id) 
       references addresses
12:47:39.381 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKbx9r9uw77p58gsq4mus0mec0o 
       foreign key (permission_id) 
       references permissions
12:47:39.383 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKqi9odri6c1o81vjox54eedwyh 
       foreign key (role_id) 
       references roles
12:47:39.386 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKlv4tu9vlg15w63rl1v78kf4fj 
       foreign key (agent_id) 
       references agents
12:47:39.391 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKrm2pxhumjebm7x60q5fsihlit 
       foreign key (carrier_id) 
       references users
12:47:39.394 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint FK4c6vlshk8x83ifeoggi3exg3k 
       foreign key (role) 
       references roles
12:47:39.398 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:47:40.169 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:47:40.911 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:47:41.279 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@219c32e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fa3db48, org.springframework.security.web.context.SecurityContextHolderFilter@6924ff83, org.springframework.security.web.header.HeaderWriterFilter@32dab011, org.springframework.web.filter.CorsFilter@19158d56, org.springframework.security.web.authentication.logout.LogoutFilter@3d5e1b83, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@18f6ccf4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5312940c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac168e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f02dc34, org.springframework.security.web.access.ExceptionTranslationFilter@3609b8f2, org.springframework.security.web.access.intercept.AuthorizationFilter@dd3d0a6]
12:47:41.557 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:47:41.557 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
12:47:41.557 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:47:41.558 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
12:47:41.558 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:47:41.558 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
12:47:41.558 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:47:41.558 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
12:47:41.570 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d7d33852-deca-4477-ba13-9852b40f3373

This generated password is for development use only. Your security configuration must be updated before running your application in production.

12:47:41.607 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
12:47:41.646 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
12:47:41.664 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.3 seconds (process running for 8.693)
12:48:28.521 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:48:28.522 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:48:28.526 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:48:31.325 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:48:31.409 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 18560 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:48:31.419 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:48:32.648 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:48:32.780 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 8 JPA repository interfaces.
12:48:33.419 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:48:33.426 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:48:33.428 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:48:33.429 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:48:33.551 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:48:33.551 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2025 ms
12:48:33.725 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:48:33.784 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
12:48:33.787 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
12:48:33.946 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:48:34.099 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:48:34.121 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:48:34.332 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d120d7c
12:48:34.340 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:48:34.777 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:48:34.989 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:48:36.194 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
12:48:36.197 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:48:36.202 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
12:48:36.202 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
12:48:36.225 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:48:36.945 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:48:37.670 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:48:38.006 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fa3db48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19158d56, org.springframework.security.web.context.SecurityContextHolderFilter@6924ff83, org.springframework.security.web.header.HeaderWriterFilter@32dab011, org.springframework.web.filter.CorsFilter@3f02dc34, org.springframework.security.web.authentication.logout.LogoutFilter@3d5e1b83, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72dc9f9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5312940c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac168e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f49fa1d, org.springframework.security.web.access.ExceptionTranslationFilter@3609b8f2, org.springframework.security.web.access.intercept.AuthorizationFilter@5abfb698]
12:48:38.260 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:48:38.261 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
12:48:38.261 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:48:38.261 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
12:48:38.261 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:48:38.261 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
12:48:38.261 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:48:38.261 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
12:48:38.278 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e16a9dbb-01f4-4a70-b56d-675f8cdcb839

This generated password is for development use only. Your security configuration must be updated before running your application in production.

12:48:38.315 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
12:48:38.338 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
12:48:38.348 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.444 seconds (process running for 8.266)
12:49:40.066 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:49:40.068 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:49:40.071 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:49:42.974 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:49:43.009 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 19564 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:49:43.010 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:49:43.990 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:49:44.137 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 130 ms. Found 8 JPA repository interfaces.
12:49:44.830 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:49:44.837 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:49:44.839 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:49:44.840 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:49:44.955 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:49:44.956 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1889 ms
12:49:45.144 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:49:45.205 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
12:49:45.207 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
12:49:45.362 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:49:45.502 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:49:45.516 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:49:45.695 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36e409e0
12:49:45.697 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:49:46.127 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:49:46.364 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:49:47.458 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
12:49:47.461 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:49:47.466 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
12:49:47.466 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
12:49:47.485 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:49:48.226 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:49:48.917 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:49:49.237 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28b995b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18f6ccf4, org.springframework.security.web.context.SecurityContextHolderFilter@3609b8f2, org.springframework.security.web.header.HeaderWriterFilter@32fccfc2, org.springframework.web.filter.CorsFilter@72dc9f9d, org.springframework.security.web.authentication.logout.LogoutFilter@4101d2c7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3760f3e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32dab011, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fca4392, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45ec6bb3, org.springframework.security.web.access.ExceptionTranslationFilter@38950d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@785aeba9]
12:49:49.498 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:49:49.498 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
12:49:49.499 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:49:49.500 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
12:49:49.500 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:49:49.500 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
12:49:49.500 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:49:49.500 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
12:49:49.514 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 153b049a-bbbf-4c68-8dd3-93fe5d2c7ba5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

12:49:49.558 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
12:49:49.583 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
12:49:49.593 [main] INFO  c.c.DemoApplication - Started DemoApplication in 6.957 seconds (process running for 7.734)
12:51:22.159 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:51:22.162 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:51:22.166 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:51:36.311 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:51:36.360 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 13712 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:51:36.363 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:51:37.211 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:51:37.370 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 8 JPA repository interfaces.
12:51:38.076 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:51:38.083 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:51:38.084 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:51:38.085 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:51:38.198 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:51:38.198 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1788 ms
12:51:38.368 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:51:38.417 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
12:51:38.419 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
12:51:38.611 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:51:38.752 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:51:38.769 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:51:38.975 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d001fbe
12:51:38.981 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:51:39.427 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:51:39.669 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:51:40.654 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
12:51:40.657 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:51:40.660 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
12:51:40.660 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
12:51:40.687 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:51:41.379 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:51:41.990 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:51:42.324 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fa3db48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19158d56, org.springframework.security.web.context.SecurityContextHolderFilter@6924ff83, org.springframework.security.web.header.HeaderWriterFilter@32dab011, org.springframework.web.filter.CorsFilter@3f02dc34, org.springframework.security.web.authentication.logout.LogoutFilter@3d5e1b83, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72dc9f9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5312940c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac168e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f49fa1d, org.springframework.security.web.access.ExceptionTranslationFilter@3609b8f2, org.springframework.security.web.access.intercept.AuthorizationFilter@5abfb698]
12:51:42.597 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:51:42.597 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
12:51:42.598 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:51:42.598 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
12:51:42.598 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:51:42.598 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
12:51:42.598 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:51:42.598 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
12:51:42.612 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 59916428-1fa6-49d2-bc3c-949c3d819045

This generated password is for development use only. Your security configuration must be updated before running your application in production.

12:51:42.652 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
12:51:42.678 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
12:51:42.692 [main] INFO  c.c.DemoApplication - Started DemoApplication in 6.711 seconds (process running for 7.647)
12:51:49.490 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:51:49.496 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:51:49.500 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
12:58:09.209 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
12:58:09.265 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 25424 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
12:58:09.267 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
12:58:10.070 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:58:10.241 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 8 JPA repository interfaces.
12:58:10.975 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
12:58:10.983 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
12:58:10.985 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:58:10.985 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
12:58:11.088 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:58:11.088 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1769 ms
12:58:11.248 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:58:11.514 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@191a0351
12:58:11.517 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:58:11.912 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:58:12.194 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
12:58:12.426 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
12:58:12.505 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
12:58:12.515 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:58:12.558 [main] INFO  liquibase.command - Using deploymentId: 8799492520
12:58:12.596 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:58:12.795 [main] INFO  liquibase.changelog - SQL in file db/sql/init_db.sql executed
12:58:12.798 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::tkambarov ran successfully in 180ms
12:58:12.826 [main] INFO  liquibase.changelog - Custom SQL executed
12:58:12.827 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081300_populate_db.xml::populate_db::tkambarov ran successfully in 19ms
12:58:12.830 [main] INFO  liquibase.util - UPDATE SUMMARY
12:58:12.830 [main] INFO  liquibase.util - Run:                          2
12:58:12.830 [main] INFO  liquibase.util - Previously run:               0
12:58:12.830 [main] INFO  liquibase.util - Filtered out:                 0
12:58:12.830 [main] INFO  liquibase.util - -------------------------------
12:58:12.830 [main] INFO  liquibase.util - Total change sets:            2

12:58:12.831 [main] INFO  liquibase.util - Update summary generated
12:58:12.832 [main] INFO  liquibase.command - Update command completed successfully.
12:58:12.835 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:58:12.840 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:58:12.842 [main] INFO  liquibase.command - Command execution complete
12:58:12.922 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:58:12.973 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
12:58:12.976 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
12:58:13.138 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:58:13.277 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:58:13.655 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
12:58:13.840 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:58:14.842 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
12:58:14.846 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
12:58:14.848 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
12:58:14.849 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
12:58:14.874 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:58:15.537 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:58:16.171 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:58:16.484 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4758158f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15364d8b, org.springframework.security.web.context.SecurityContextHolderFilter@2aaa5122, org.springframework.security.web.header.HeaderWriterFilter@18161415, org.springframework.web.filter.CorsFilter@7a680b69, org.springframework.security.web.authentication.logout.LogoutFilter@321b2469, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@11987483, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77a38cec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51b22f06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10b6a807, org.springframework.security.web.access.ExceptionTranslationFilter@60c5c115, org.springframework.security.web.access.intercept.AuthorizationFilter@58bdcf40]
12:58:16.766 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:58:16.766 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
12:58:16.766 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:58:16.767 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
12:58:16.767 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:58:16.767 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
12:58:16.767 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
12:58:16.767 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
12:58:16.779 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: abe09de7-29f6-4074-8136-13e1c4ae27e1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

12:58:16.816 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
12:58:16.839 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
12:58:16.848 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.893 seconds (process running for 8.873)
12:59:08.265 [http-nio-8080-exec-5] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
12:59:08.265 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
12:59:08.266 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
12:59:08.296 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
12:59:08.430 [http-nio-8080-exec-5] DEBUG o.s.s.p.JdbcUserDetailsManager - Query returned no results for user 'agent1'
12:59:08.510 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'agent1'
12:59:08.511 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
12:59:08.514 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
12:59:08.514 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@653901dd
12:59:23.150 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
12:59:23.177 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
12:59:29.854 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
12:59:29.861 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
12:59:29.866 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        agents
        (company_address,company_name,percent_to_express,percent_to_standard,price_per_km,price_per_lb,id) 
    values
        (?,?,?,?,?,?,?)
12:59:37.519 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
12:59:37.522 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
13:00:02.318 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:00:02.347 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:00:02.366 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:05:24.647 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
13:05:24.650 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
13:05:24.654 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
13:05:30.929 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
13:05:30.996 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 12292 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
13:05:30.998 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
13:05:32.018 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
13:05:32.168 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 142 ms. Found 8 JPA repository interfaces.
13:05:32.877 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
13:05:32.883 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
13:05:32.885 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
13:05:32.885 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
13:05:33.034 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
13:05:33.036 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1959 ms
13:05:33.211 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
13:05:33.424 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@299b9851
13:05:33.426 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
13:05:33.763 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
13:05:34.039 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
13:05:34.329 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
13:05:34.474 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:05:34.533 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:05:34.542 [main] INFO  liquibase.util - UPDATE SUMMARY
13:05:34.542 [main] INFO  liquibase.util - Run:                          0
13:05:34.543 [main] INFO  liquibase.util - Previously run:               2
13:05:34.543 [main] INFO  liquibase.util - Filtered out:                 0
13:05:34.543 [main] INFO  liquibase.util - -------------------------------
13:05:34.543 [main] INFO  liquibase.util - Total change sets:            2

13:05:34.545 [main] INFO  liquibase.util - Update summary generated
13:05:34.550 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:05:34.559 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:05:34.562 [main] INFO  liquibase.command - Command execution complete
13:05:34.650 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
13:05:34.701 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
13:05:34.704 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
13:05:34.860 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:05:35.003 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
13:05:35.391 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:05:35.603 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:05:36.596 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
13:05:36.600 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:05:36.617 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
13:05:36.618 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
13:05:36.640 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
13:05:37.315 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
13:05:37.979 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
13:05:38.332 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@503e1cd9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20b54b6e, org.springframework.security.web.context.SecurityContextHolderFilter@37445c57, org.springframework.security.web.header.HeaderWriterFilter@13809190, org.springframework.web.filter.CorsFilter@195267c8, org.springframework.security.web.authentication.logout.LogoutFilter@238869e8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@84f0686, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d97b0a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20983174, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69924070, org.springframework.security.web.access.ExceptionTranslationFilter@467310c6, org.springframework.security.web.access.intercept.AuthorizationFilter@41194707]
13:05:38.580 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:05:38.580 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
13:05:38.581 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:05:38.581 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
13:05:38.581 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:05:38.581 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
13:05:38.581 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:05:38.581 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
13:05:38.596 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 01773e96-c810-449c-a08d-e380b2b91cec

This generated password is for development use only. Your security configuration must be updated before running your application in production.

13:05:38.639 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
13:05:38.668 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
13:05:38.677 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.125 seconds (process running for 8.893)
13:16:39.424 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
13:16:39.425 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
13:16:39.428 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
13:16:39.458 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /brokesr/users
13:16:39.649 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:16:39.652 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:16:39.656 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /brokesr/users
13:16:44.093 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
13:16:44.095 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
13:16:44.099 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
13:16:47.065 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
13:16:47.148 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 12176 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
13:16:47.149 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
13:16:48.184 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
13:16:48.310 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 115 ms. Found 8 JPA repository interfaces.
13:16:48.978 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
13:16:48.984 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
13:16:48.986 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
13:16:48.986 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
13:16:49.071 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
13:16:49.072 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1842 ms
13:16:49.232 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
13:16:49.435 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@191a0351
13:16:49.438 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
13:16:49.724 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
13:16:49.967 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
13:16:50.259 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
13:16:50.405 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:16:50.474 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:16:50.481 [main] INFO  liquibase.util - UPDATE SUMMARY
13:16:50.481 [main] INFO  liquibase.util - Run:                          0
13:16:50.481 [main] INFO  liquibase.util - Previously run:               2
13:16:50.481 [main] INFO  liquibase.util - Filtered out:                 0
13:16:50.481 [main] INFO  liquibase.util - -------------------------------
13:16:50.481 [main] INFO  liquibase.util - Total change sets:            2

13:16:50.482 [main] INFO  liquibase.util - Update summary generated
13:16:50.487 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:16:50.493 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:16:50.495 [main] INFO  liquibase.command - Command execution complete
13:16:50.578 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
13:16:50.630 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
13:16:50.634 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
13:16:50.787 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:16:50.915 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
13:16:51.290 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:16:51.471 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:16:52.677 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
13:16:52.679 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:16:52.684 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
13:16:52.685 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
13:16:52.703 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
13:16:53.355 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
13:16:54.044 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
13:16:54.397 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20b54b6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@195267c8, org.springframework.security.web.context.SecurityContextHolderFilter@205f573e, org.springframework.security.web.header.HeaderWriterFilter@434c0d22, org.springframework.web.filter.CorsFilter@69924070, org.springframework.security.web.authentication.logout.LogoutFilter@7aadd290, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7b6846c6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20983174, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35ab67d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@496a514f, org.springframework.security.web.access.ExceptionTranslationFilter@72bb0640, org.springframework.security.web.access.intercept.AuthorizationFilter@46969355]
13:16:54.657 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:16:54.657 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
13:16:54.657 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:16:54.657 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
13:16:54.657 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:16:54.657 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
13:16:54.658 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:16:54.658 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
13:16:54.673 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 59f1a137-5756-4132-9f8d-1a6652fe9d91

This generated password is for development use only. Your security configuration must be updated before running your application in production.

13:16:54.708 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
13:16:54.732 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
13:16:54.740 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.101 seconds (process running for 8.909)
13:17:03.397 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
13:17:03.398 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
13:17:03.400 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
13:17:03.422 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /brokesr/users
13:17:03.596 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:17:03.598 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:17:03.603 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /brokesr/users
13:17:11.250 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /brokes/users
13:17:11.330 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:17:11.330 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:17:11.330 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /brokes/users
13:17:21.523 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /brokers/users
13:17:21.594 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:17:21.595 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:17:21.596 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /brokers/users
13:17:21.748 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id
13:17:21.799 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:17:21.836 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:17:21.852 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:17:21.858 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:17:21.863 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:17:21.868 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:17:21.873 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:17:21.875 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:17:52.777 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /brokers/users/2/ACCEPT
13:17:52.850 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:17:52.851 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:17:52.851 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /brokers/users/2/ACCEPT
13:17:52.865 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        where
            u1_0.id=?
13:17:52.909 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        birth_date=?,
        created_at=?,
        fio=?,
        is_confirmed=?,
        password=?,
        phone=?,
        role=?,
        username=? 
    where
        id=?
13:18:01.826 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /brokers/users/3/ACCEPT
13:18:01.907 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:18:01.907 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:18:01.907 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /brokers/users/3/ACCEPT
13:18:01.912 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        where
            u1_0.id=?
13:18:01.928 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        birth_date=?,
        created_at=?,
        fio=?,
        is_confirmed=?,
        password=?,
        phone=?,
        role=?,
        username=? 
    where
        id=?
13:18:36.641 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:18:36.645 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:18:36.652 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:19:03.400 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
13:19:03.486 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:19:03.487 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=shipper, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
13:19:03.488 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
13:19:03.492 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:19:03.495 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:19:03.498 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:19:55.052 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
13:19:55.053 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
13:19:55.057 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
13:20:00.614 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
13:20:00.681 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 24948 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
13:20:00.683 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
13:20:01.568 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
13:20:01.694 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 115 ms. Found 8 JPA repository interfaces.
13:20:02.319 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
13:20:02.326 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
13:20:02.327 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
13:20:02.328 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
13:20:02.436 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
13:20:02.437 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1678 ms
13:20:02.597 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
13:20:02.788 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@51ba952e
13:20:02.791 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
13:20:03.096 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
13:20:03.365 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
13:20:03.623 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
13:20:03.747 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:20:03.799 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:20:03.805 [main] INFO  liquibase.util - UPDATE SUMMARY
13:20:03.806 [main] INFO  liquibase.util - Run:                          0
13:20:03.806 [main] INFO  liquibase.util - Previously run:               2
13:20:03.806 [main] INFO  liquibase.util - Filtered out:                 0
13:20:03.806 [main] INFO  liquibase.util - -------------------------------
13:20:03.806 [main] INFO  liquibase.util - Total change sets:            2

13:20:03.808 [main] INFO  liquibase.util - Update summary generated
13:20:03.811 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:20:03.818 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:20:03.819 [main] INFO  liquibase.command - Command execution complete
13:20:03.920 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
13:20:03.973 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
13:20:03.974 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
13:20:04.114 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:20:04.259 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
13:20:04.629 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:20:04.818 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:20:05.835 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
13:20:05.839 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:20:05.841 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
13:20:05.844 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
13:20:05.867 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
13:20:06.529 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
13:20:07.235 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
13:20:07.567 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69924070, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@496a514f, org.springframework.security.web.context.SecurityContextHolderFilter@20983174, org.springframework.security.web.header.HeaderWriterFilter@37445c57, org.springframework.web.filter.CorsFilter@430e9d37, org.springframework.security.web.authentication.logout.LogoutFilter@7c38d816, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@503e1cd9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f1720f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27de073b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4968deb9, org.springframework.security.web.access.ExceptionTranslationFilter@434c0d22, org.springframework.security.web.access.intercept.AuthorizationFilter@23595dd9]
13:20:07.813 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:20:07.813 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
13:20:07.814 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:20:07.814 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
13:20:07.814 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:20:07.814 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
13:20:07.814 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:20:07.814 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
13:20:07.829 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 9c3ab880-3e16-4567-8ccd-dc8edad129fd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

13:20:07.876 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
13:20:07.899 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
13:20:07.909 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.63 seconds (process running for 8.466)
13:20:23.527 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
13:20:23.528 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
13:20:23.530 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
13:20:23.557 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
13:20:23.677 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since user account is disabled
13:20:23.678 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.DisabledException: User is disabled
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider$DefaultPreAuthenticationChecks.check(AbstractUserDetailsAuthenticationProvider.java:331)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:146)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
13:20:23.682 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
13:20:23.683 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@63f59080
13:20:31.030 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:20:31.059 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:20:31.079 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:20:52.050 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:20:52.054 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:20:52.061 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:21:04.118 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
13:21:04.193 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:21:04.196 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=carrier, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.read]]
13:21:04.200 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
13:21:04.205 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:21:04.209 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:21:04.215 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:22:00.641 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:22:00.644 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:22:00.647 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:22:16.626 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /brokers/users/4/ACCEPT
13:22:16.628 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.BadCredentialsException: Failed to decode basic authentication token
	at org.springframework.security.web.authentication.www.BasicAuthenticationConverter.decode(BasicAuthenticationConverter.java:108)
	at org.springframework.security.web.authentication.www.BasicAuthenticationConverter.convert(BasicAuthenticationConverter.java:91)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:164)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
13:22:16.630 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
13:22:16.630 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@63f59080
13:22:35.671 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /brokers/users/4/ACCEPT
13:22:35.747 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:22:35.748 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:22:35.749 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /brokers/users/4/ACCEPT
13:22:35.763 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        where
            u1_0.id=?
13:22:35.808 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        birth_date=?,
        created_at=?,
        fio=?,
        is_confirmed=?,
        password=?,
        phone=?,
        role=?,
        username=? 
    where
        id=?
13:22:37.826 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /brokers/users/4/ACCEPT
13:22:37.900 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:22:37.902 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:22:37.902 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /brokers/users/4/ACCEPT
13:22:37.904 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        where
            u1_0.id=?
13:22:42.868 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /brokers/users/4/ACCEPT
13:22:42.940 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:22:42.941 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=broker, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, order.edit, order.read, productType.edit, productType.read, user.edit, user.read]]
13:22:42.941 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /brokers/users/4/ACCEPT
13:22:42.946 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        where
            u1_0.id=?
13:22:53.372 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:22:53.375 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:22:53.381 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:23:05.925 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
13:23:05.998 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:23:05.998 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
13:23:05.999 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
13:23:06.001 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    where
        u1_0.username=?
13:23:06.006 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:23:06.010 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:25:38.106 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /carrier-companies/transport
13:25:38.174 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:25:38.175 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
13:25:38.175 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /carrier-companies/transport
13:25:38.198 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.id,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        a1_1.role,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb 
    from
        agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id 
    where
        a1_1.username=?
13:25:38.202 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:25:38.205 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:25:38.216 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.agent_id,
        a1_0.id,
        a1_0.capacity,
        c1_0.id,
        case 
            when c1_1.id is not null then 1 
            when c1_0.id is not null then 0 
        end,
        c1_0.address,
        c1_0.birth_date,
        c1_0.created_at,
        c1_0.fio,
        c1_0.is_confirmed,
        c1_0.password,
        c1_0.phone,
        r1_0.name,
        c1_0.username,
        c1_1.company_address,
        c1_1.company_name,
        c1_1.percent_to_express,
        c1_1.percent_to_standard,
        c1_1.price_per_km,
        c1_1.price_per_lb,
        c1_1.id,
        a1_0.model,
        a1_0.number,
        a1_0.type 
    from
        transports a1_0 
    left join
        (users c1_0 
    left join
        agents c1_1 
            on c1_0.id=c1_1.id) 
                on c1_0.id=a1_0.carrier_id 
        left join
            roles r1_0 
                on r1_0.name=c1_0.role 
        where
            a1_0.agent_id=?
13:25:38.223 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
13:25:38.226 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
13:25:38.241 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        transports
        (agent_id,capacity,carrier_id,model,number,type) 
    values
        (?,?,?,?,?,?)
13:25:38.259 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
13:25:38.259 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        transports
        (agent_id,capacity,carrier_id,model,number,type) 
    values
        (?,?,?,?,?,?)
13:25:38.265 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
13:25:38.265 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        transports
        (agent_id,capacity,carrier_id,model,number,type) 
    values
        (?,?,?,?,?,?)
13:27:58.242 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
13:27:58.246 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
13:27:58.249 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
13:28:03.258 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
13:28:03.322 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 11116 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
13:28:03.322 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
13:28:04.263 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
13:28:04.437 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 8 JPA repository interfaces.
13:28:05.188 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
13:28:05.196 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
13:28:05.196 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
13:28:05.196 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
13:28:05.309 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
13:28:05.309 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1942 ms
13:28:05.481 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
13:28:05.701 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@191a0351
13:28:05.704 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
13:28:06.050 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
13:28:06.333 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
13:28:06.602 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
13:28:06.743 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:28:06.806 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:28:06.816 [main] INFO  liquibase.util - UPDATE SUMMARY
13:28:06.817 [main] INFO  liquibase.util - Run:                          0
13:28:06.817 [main] INFO  liquibase.util - Previously run:               2
13:28:06.817 [main] INFO  liquibase.util - Filtered out:                 0
13:28:06.817 [main] INFO  liquibase.util - -------------------------------
13:28:06.818 [main] INFO  liquibase.util - Total change sets:            2

13:28:06.819 [main] INFO  liquibase.util - Update summary generated
13:28:06.826 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:28:06.831 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:28:06.833 [main] INFO  liquibase.command - Command execution complete
13:28:06.935 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
13:28:06.995 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
13:28:06.997 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
13:28:07.146 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:28:07.275 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
13:28:07.686 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:28:07.900 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:28:09.073 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
13:28:09.079 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:28:09.083 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
13:28:09.084 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
13:28:09.108 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
13:28:09.782 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
13:28:10.462 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
13:28:10.856 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69924070, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@496a514f, org.springframework.security.web.context.SecurityContextHolderFilter@20983174, org.springframework.security.web.header.HeaderWriterFilter@37445c57, org.springframework.web.filter.CorsFilter@430e9d37, org.springframework.security.web.authentication.logout.LogoutFilter@7c38d816, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@503e1cd9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f1720f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27de073b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4968deb9, org.springframework.security.web.access.ExceptionTranslationFilter@434c0d22, org.springframework.security.web.access.intercept.AuthorizationFilter@23595dd9]
13:28:11.151 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:28:11.151 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
13:28:11.152 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:28:11.152 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
13:28:11.152 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:28:11.152 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
13:28:11.152 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:28:11.152 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
13:28:11.166 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0dcab10f-e7e3-4326-b297-0d99f81cbfd6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

13:28:11.221 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
13:28:11.255 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
13:28:11.270 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.355 seconds (process running for 9.136)
13:29:04.526 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
13:29:04.527 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
13:29:04.530 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
13:29:04.556 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /transport/1/carrier/2
13:29:04.737 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:29:04.738 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
13:29:04.744 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /transport/1/carrier/2
13:29:04.762 [http-nio-8080-exec-3] WARN  o.s.web.servlet.PageNotFound - Request method 'PUT' is not supported
13:29:40.905 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
13:29:40.907 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
13:29:40.912 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
13:29:46.467 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
13:29:46.568 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 25212 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
13:29:46.574 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
13:29:48.054 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
13:29:48.227 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 8 JPA repository interfaces.
13:29:48.959 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
13:29:48.967 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
13:29:48.970 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
13:29:48.970 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
13:29:49.092 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
13:29:49.093 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2391 ms
13:29:49.284 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
13:29:49.481 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6c9b44bf
13:29:49.485 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
13:29:49.817 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
13:29:49.954 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
13:29:50.207 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
13:29:50.312 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:29:50.363 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
13:29:50.368 [main] INFO  liquibase.util - UPDATE SUMMARY
13:29:50.369 [main] INFO  liquibase.util - Run:                          0
13:29:50.369 [main] INFO  liquibase.util - Previously run:               2
13:29:50.369 [main] INFO  liquibase.util - Filtered out:                 0
13:29:50.369 [main] INFO  liquibase.util - -------------------------------
13:29:50.369 [main] INFO  liquibase.util - Total change sets:            2

13:29:50.370 [main] INFO  liquibase.util - Update summary generated
13:29:50.374 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:29:50.378 [main] INFO  liquibase.lockservice - Successfully released change log lock
13:29:50.379 [main] INFO  liquibase.command - Command execution complete
13:29:50.482 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
13:29:50.561 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
13:29:50.564 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
13:29:50.704 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:29:50.886 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
13:29:51.363 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
13:29:51.585 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:29:52.750 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
13:29:52.762 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
13:29:52.769 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
13:29:52.771 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
13:29:52.819 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
13:29:53.757 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
13:29:54.478 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
13:29:54.934 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71103416, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@503e1cd9, org.springframework.security.web.context.SecurityContextHolderFilter@1de7c0ad, org.springframework.security.web.header.HeaderWriterFilter@72bb0640, org.springframework.web.filter.CorsFilter@20b54b6e, org.springframework.security.web.authentication.logout.LogoutFilter@1a4fa5df, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2dc199d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@205f573e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d97b0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@195267c8, org.springframework.security.web.access.ExceptionTranslationFilter@240e8240, org.springframework.security.web.access.intercept.AuthorizationFilter@646ba7be]
13:29:55.233 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:29:55.234 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
13:29:55.234 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:29:55.234 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
13:29:55.234 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:29:55.234 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
13:29:55.234 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
13:29:55.234 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
13:29:55.247 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8b101dbe-12ac-46ab-9fab-f5df4bb3962f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

13:29:55.279 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
13:29:55.297 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
13:29:55.305 [main] INFO  c.c.DemoApplication - Started DemoApplication in 9.217 seconds (process running for 10.081)
13:29:58.980 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
13:29:58.982 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
13:29:58.983 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
13:29:59.017 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /transport/1/carrier/2
13:29:59.218 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:29:59.219 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
13:29:59.221 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /transport/1/carrier/2
13:29:59.331 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        where
            u1_0.id=?
13:29:59.388 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.id=?
13:29:59.442 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        transports 
    set
        agent_id=?,
        capacity=?,
        carrier_id=?,
        model=?,
        number=?,
        type=? 
    where
        id=?
13:30:35.646 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /transport
13:30:35.721 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:30:35.722 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
13:30:35.722 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /transport
13:30:35.804 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.id,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        a1_1.role,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb 
    from
        agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id 
    where
        a1_1.username=?
13:30:35.808 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:30:35.814 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            where
                t1_0.carrier_id=?
13:30:35.831 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.agent_id,
        a1_0.id,
        a1_0.capacity,
        c1_0.id,
        case 
            when c1_1.id is not null then 1 
            when c1_0.id is not null then 0 
        end,
        c1_0.address,
        c1_0.birth_date,
        c1_0.created_at,
        c1_0.fio,
        c1_0.is_confirmed,
        c1_0.password,
        c1_0.phone,
        r1_0.name,
        c1_0.username,
        c1_1.company_address,
        c1_1.company_name,
        c1_1.percent_to_express,
        c1_1.percent_to_standard,
        c1_1.price_per_km,
        c1_1.price_per_lb,
        c1_1.id,
        a1_0.model,
        a1_0.number,
        a1_0.type 
    from
        transports a1_0 
    left join
        (users c1_0 
    left join
        agents c1_1 
            on c1_0.id=c1_1.id) 
                on c1_0.id=a1_0.carrier_id 
        left join
            roles r1_0 
                on r1_0.name=c1_0.role 
        where
            a1_0.agent_id=?
13:30:35.847 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
13:30:35.852 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
13:31:15.386 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /carrier
13:31:15.460 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
13:31:15.460 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
13:31:15.461 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /carrier
13:31:15.462 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
13:31:15.473 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    where
        u1_0.role=? 
        and t1_0.id is null
14:15:42.665 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:15:42.678 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:15:42.683 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:15:50.182 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:15:50.245 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 16628 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:15:50.246 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:15:51.175 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:15:51.323 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 9 JPA repository interfaces.
14:15:52.010 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:15:52.017 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:15:52.018 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:15:52.018 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:15:52.132 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:15:52.133 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1795 ms
14:15:52.284 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:15:52.518 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9e02f84
14:15:52.521 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:15:52.830 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:15:53.103 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:15:53.442 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:15:53.570 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:15:53.641 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:15:53.649 [main] INFO  liquibase.util - UPDATE SUMMARY
14:15:53.649 [main] INFO  liquibase.util - Run:                          0
14:15:53.650 [main] INFO  liquibase.util - Previously run:               2
14:15:53.650 [main] INFO  liquibase.util - Filtered out:                 0
14:15:53.650 [main] INFO  liquibase.util - -------------------------------
14:15:53.650 [main] INFO  liquibase.util - Total change sets:            2

14:15:53.650 [main] INFO  liquibase.util - Update summary generated
14:15:53.655 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:15:53.661 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:15:53.664 [main] INFO  liquibase.command - Command execution complete
14:15:53.768 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:15:53.818 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:15:53.823 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:15:53.985 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:15:54.115 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:15:54.503 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:15:54.709 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:15:55.955 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:15:55.958 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:15:55.962 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:15:55.963 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:15:55.987 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:15:56.790 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:15:57.437 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:15:57.632 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:15:57.634 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:15:57.636 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:15:57.642 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:15:57.646 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:15:57.662 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:15:57.686 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:17:52.712 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:17:52.746 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 18212 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:17:52.746 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:17:53.679 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:17:53.880 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 162 ms. Found 9 JPA repository interfaces.
14:17:54.585 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:17:54.593 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:17:54.596 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:17:54.596 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:17:54.706 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:17:54.707 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1924 ms
14:17:54.885 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:17:55.109 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b560eb0
14:17:55.112 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:17:55.421 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:17:55.692 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:17:55.940 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:17:56.059 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:17:56.118 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:17:56.129 [main] INFO  liquibase.util - UPDATE SUMMARY
14:17:56.130 [main] INFO  liquibase.util - Run:                          0
14:17:56.130 [main] INFO  liquibase.util - Previously run:               2
14:17:56.130 [main] INFO  liquibase.util - Filtered out:                 0
14:17:56.130 [main] INFO  liquibase.util - -------------------------------
14:17:56.130 [main] INFO  liquibase.util - Total change sets:            2

14:17:56.132 [main] INFO  liquibase.util - Update summary generated
14:17:56.134 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:17:56.138 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:17:56.140 [main] INFO  liquibase.command - Command execution complete
14:17:56.248 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:17:56.306 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:17:56.310 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:17:56.429 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:17:56.565 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:17:56.912 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:17:57.119 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:17:58.355 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:17:58.358 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:17:58.362 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:17:58.363 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:17:58.392 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:17:59.151 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:17:59.762 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:17:59.961 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:17:59.962 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:17:59.965 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:17:59.971 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:17:59.974 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:17:59.988 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:18:00.012 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$2(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:18:09.177 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:18:09.226 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 15604 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:18:09.226 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:18:10.232 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:18:10.416 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 164 ms. Found 9 JPA repository interfaces.
14:18:11.121 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:18:11.129 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:18:11.131 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:18:11.131 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:18:11.253 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:18:11.253 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1987 ms
14:18:11.418 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:18:11.617 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9e02f84
14:18:11.619 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:18:11.927 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:18:12.214 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:18:12.518 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:18:12.631 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:18:12.691 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:18:12.697 [main] INFO  liquibase.util - UPDATE SUMMARY
14:18:12.697 [main] INFO  liquibase.util - Run:                          0
14:18:12.698 [main] INFO  liquibase.util - Previously run:               2
14:18:12.698 [main] INFO  liquibase.util - Filtered out:                 0
14:18:12.698 [main] INFO  liquibase.util - -------------------------------
14:18:12.698 [main] INFO  liquibase.util - Total change sets:            2

14:18:12.700 [main] INFO  liquibase.util - Update summary generated
14:18:12.706 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:18:12.709 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:18:12.711 [main] INFO  liquibase.command - Command execution complete
14:18:12.817 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:18:12.872 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:18:12.875 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:18:13.002 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:18:13.135 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:18:13.496 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:18:13.691 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:18:14.925 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:18:14.929 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:18:14.933 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:18:14.933 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:18:14.955 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:18:15.758 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:18:16.375 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:18:16.565 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:18:16.566 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:18:16.568 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:18:16.572 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:18:16.576 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:18:16.589 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:18:16.609 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$2(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:19:12.526 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:19:12.586 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 23328 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:19:12.586 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:19:13.657 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:19:13.808 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 9 JPA repository interfaces.
14:19:14.476 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:19:14.484 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:19:14.486 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:19:14.487 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:19:14.591 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:19:14.592 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1969 ms
14:19:14.758 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:19:14.961 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e6060f1
14:19:14.964 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:19:15.295 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:19:15.567 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:19:15.865 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:19:16.005 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:19:16.059 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:19:16.075 [main] INFO  liquibase.util - UPDATE SUMMARY
14:19:16.076 [main] INFO  liquibase.util - Run:                          0
14:19:16.076 [main] INFO  liquibase.util - Previously run:               2
14:19:16.076 [main] INFO  liquibase.util - Filtered out:                 0
14:19:16.076 [main] INFO  liquibase.util - -------------------------------
14:19:16.076 [main] INFO  liquibase.util - Total change sets:            2

14:19:16.076 [main] INFO  liquibase.util - Update summary generated
14:19:16.081 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:19:16.087 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:19:16.090 [main] INFO  liquibase.command - Command execution complete
14:19:16.202 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:19:16.270 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:19:16.275 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:19:16.463 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:19:16.608 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:19:16.992 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:19:17.218 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:19:18.533 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:19:18.537 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:19:18.541 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:19:18.542 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:19:18.565 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:19:19.361 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:19:20.026 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:19:20.218 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:19:20.220 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:19:20.222 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:19:20.229 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:19:20.231 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:19:20.250 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:19:20.279 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$1(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:19:48.817 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:19:48.865 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 21832 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:19:48.870 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:19:49.814 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:19:49.956 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 126 ms. Found 9 JPA repository interfaces.
14:19:50.653 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:19:50.662 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:19:50.664 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:19:50.665 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:19:50.789 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:19:50.789 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1853 ms
14:19:50.961 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:19:51.143 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6c9b44bf
14:19:51.146 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:19:51.476 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:19:51.702 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:19:52.011 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:19:52.162 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:19:52.223 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:19:52.234 [main] INFO  liquibase.util - UPDATE SUMMARY
14:19:52.235 [main] INFO  liquibase.util - Run:                          0
14:19:52.236 [main] INFO  liquibase.util - Previously run:               2
14:19:52.236 [main] INFO  liquibase.util - Filtered out:                 0
14:19:52.236 [main] INFO  liquibase.util - -------------------------------
14:19:52.236 [main] INFO  liquibase.util - Total change sets:            2

14:19:52.237 [main] INFO  liquibase.util - Update summary generated
14:19:52.244 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:19:52.251 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:19:52.253 [main] INFO  liquibase.command - Command execution complete
14:19:52.340 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:19:52.395 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:19:52.397 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:19:52.570 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:19:52.711 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:19:53.103 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:19:53.285 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:19:54.168 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:19:54.171 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:19:54.175 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:19:54.176 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:19:54.200 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:19:54.970 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:19:55.596 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:19:55.794 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:19:55.796 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:19:55.797 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:19:55.801 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:19:55.806 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:19:55.820 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:19:55.843 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:21:02.242 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:21:02.301 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 2416 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:21:02.303 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:21:03.329 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:21:03.486 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 9 JPA repository interfaces.
14:21:04.261 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:21:04.267 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:21:04.268 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:21:04.269 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:21:04.384 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:21:04.385 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2044 ms
14:21:04.566 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:21:04.768 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6c9b44bf
14:21:04.772 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:21:05.052 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:21:05.250 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:21:05.490 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:21:05.590 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:21:05.647 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:21:05.652 [main] INFO  liquibase.util - UPDATE SUMMARY
14:21:05.653 [main] INFO  liquibase.util - Run:                          0
14:21:05.653 [main] INFO  liquibase.util - Previously run:               2
14:21:05.653 [main] INFO  liquibase.util - Filtered out:                 0
14:21:05.653 [main] INFO  liquibase.util - -------------------------------
14:21:05.653 [main] INFO  liquibase.util - Total change sets:            2

14:21:05.654 [main] INFO  liquibase.util - Update summary generated
14:21:05.659 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:21:05.664 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:21:05.666 [main] INFO  liquibase.command - Command execution complete
14:21:05.748 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:21:05.809 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:21:05.812 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:21:05.949 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:21:06.079 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:21:06.447 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:21:06.669 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:21:07.911 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:21:07.915 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:21:07.920 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:21:07.921 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:21:07.944 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:21:08.734 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:21:09.367 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:21:09.553 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:21:09.553 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:21:09.555 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:21:09.559 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:21:09.562 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:21:09.576 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:21:09.599 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$1(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:22:23.464 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:22:23.510 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 24164 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:22:23.512 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:22:24.665 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:22:24.840 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 9 JPA repository interfaces.
14:22:25.519 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:22:25.525 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:22:25.526 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:22:25.528 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:22:25.625 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:22:25.627 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2049 ms
14:22:25.797 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:22:25.846 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:22:25.849 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:22:26.017 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:22:26.151 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:22:26.171 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:22:26.382 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7bbdb220
14:22:26.383 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:22:26.809 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:22:27.034 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:22:27.983 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:22:27.986 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:22:27.992 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:22:27.993 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:22:28.013 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:22:28.778 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:22:29.389 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:22:29.583 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
14:22:29.584 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:22:29.587 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:22:29.599 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:22:29.601 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:22:29.620 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:22:29.653 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/cargotransportation/conf/SpringSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1160)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer$MvcCorsFilter.getMvcCorsFilter(CorsConfigurer.java:116)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.getCorsFilter(CorsConfigurer.java:94)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:73)
	at org.springframework.security.config.annotation.web.configurers.CorsConfigurer.configure(CorsConfigurer.java:41)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:309)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig.securityFilterChain(SpringSecurityConfig.java:38)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.cargotransportation.conf.SpringSecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 20 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1308)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:109)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'profileController' method 
com.cargotransportation.controllers.ProfileController#getTransports()
to {GET [/transports]}: There is already 'agentController' bean method
com.cargotransportation.controllers.AgentController#getAllTransports() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
14:24:06.364 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:24:06.410 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 20568 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:24:06.411 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:24:07.355 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:24:07.586 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 215 ms. Found 9 JPA repository interfaces.
14:24:08.394 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:24:08.401 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:24:08.403 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:24:08.404 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:24:08.523 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:24:08.524 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2082 ms
14:24:08.703 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:24:08.755 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:24:08.756 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:24:08.920 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:24:09.062 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:24:09.079 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:24:09.287 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ee77baf
14:24:09.289 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:24:09.731 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:24:09.963 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:24:10.998 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:24:11.002 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:24:11.006 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:24:11.010 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:24:11.036 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:24:11.876 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:24:12.540 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:24:12.870 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59e6fb8a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@502cd238, org.springframework.security.web.context.SecurityContextHolderFilter@380f9c1d, org.springframework.security.web.header.HeaderWriterFilter@1170d81f, org.springframework.web.filter.CorsFilter@68032a80, org.springframework.security.web.authentication.logout.LogoutFilter@134b9d9c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@698c19ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@155788a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd8aee2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6878cd83, org.springframework.security.web.access.ExceptionTranslationFilter@4c0e09b5, org.springframework.security.web.access.intercept.AuthorizationFilter@5dd2e62a]
14:24:13.097 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:24:13.098 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:24:13.099 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:24:13.100 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:24:13.100 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:24:13.100 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:24:13.100 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:24:13.100 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:24:13.122 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: dfbe0e1c-5178-487a-bce5-e8ca67f81ccd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:24:13.170 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:24:13.199 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:24:13.215 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.211 seconds (process running for 8.047)
14:24:52.076 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:24:52.079 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:24:52.084 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:24:54.865 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:24:54.902 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 16772 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:24:54.905 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:24:55.931 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:24:56.149 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 199 ms. Found 9 JPA repository interfaces.
14:24:56.915 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:24:56.925 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:24:56.928 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:24:56.928 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:24:57.067 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:24:57.067 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2106 ms
14:24:57.264 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:24:57.315 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:24:57.319 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:24:57.495 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:24:57.639 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:24:57.654 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:24:57.860 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ee77baf
14:24:57.862 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:24:58.363 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:24:58.583 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:24:59.937 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:24:59.940 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:24:59.951 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:24:59.951 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:24:59.973 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:25:00.848 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:25:01.543 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:25:01.892 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cf38112, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59e6fb8a, org.springframework.security.web.context.SecurityContextHolderFilter@60232aad, org.springframework.security.web.header.HeaderWriterFilter@64078e6a, org.springframework.web.filter.CorsFilter@502cd238, org.springframework.security.web.authentication.logout.LogoutFilter@20ca2c3f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@fd9512f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fa81b23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@155788a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68032a80, org.springframework.security.web.access.ExceptionTranslationFilter@5862a07b, org.springframework.security.web.access.intercept.AuthorizationFilter@7f336491]
14:25:02.156 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:25:02.156 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:25:02.158 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:25:02.158 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:25:02.159 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:25:02.159 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:25:02.159 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:25:02.159 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:25:02.173 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 80f11e4d-5902-48c0-8588-b1383f30209e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:25:02.211 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:25:02.232 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:25:02.241 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.674 seconds (process running for 8.525)
14:25:42.387 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:25:42.389 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:25:42.394 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:25:57.617 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:25:57.675 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 24256 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:25:57.676 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:25:58.738 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:25:58.902 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 9 JPA repository interfaces.
14:25:59.643 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:25:59.650 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:25:59.652 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:25:59.652 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:25:59.756 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:25:59.757 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2000 ms
14:25:59.944 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:26:00.005 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:26:00.006 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:26:00.165 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:26:00.287 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:26:00.302 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:26:00.496 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@485deee1
14:26:00.498 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:26:00.903 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:26:01.101 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:26:02.004 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:26:02.008 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:26:02.011 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:26:02.012 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:26:02.032 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:26:02.829 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:26:03.518 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:26:03.884 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62c41ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3027fe42, org.springframework.security.web.context.SecurityContextHolderFilter@28f33810, org.springframework.security.web.header.HeaderWriterFilter@2fa81b23, org.springframework.web.filter.CorsFilter@410185ec, org.springframework.security.web.authentication.logout.LogoutFilter@4afb2c90, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@502cd238, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e56f5d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4750e942, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f3b4c9a, org.springframework.security.web.access.ExceptionTranslationFilter@60232aad, org.springframework.security.web.access.intercept.AuthorizationFilter@3eea7c4b]
14:26:04.129 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:04.129 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:26:04.129 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:04.130 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:26:04.130 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:04.130 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:26:04.130 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:04.130 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:26:04.149 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c0b64bd0-995d-411e-bb33-06f6d834e57e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:26:04.190 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:26:04.217 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:26:04.229 [main] INFO  c.c.DemoApplication - Started DemoApplication in 6.913 seconds (process running for 7.647)
14:26:41.732 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:26:41.734 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:26:41.739 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:26:44.600 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:26:44.639 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 9472 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:26:44.640 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:26:45.510 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:26:45.669 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 9 JPA repository interfaces.
14:26:46.352 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:26:46.359 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:26:46.361 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:26:46.361 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:26:46.487 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:26:46.487 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1793 ms
14:26:46.670 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:26:46.719 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:26:46.722 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:26:46.911 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:26:47.049 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:26:47.067 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:26:47.279 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ee77baf
14:26:47.282 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:26:47.713 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:26:48.957 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:26:48.981 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
14:26:48.988 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       drop constraint if exists FKshubcnwtfbihsspu2ciehpveg
14:26:48.991 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
14:26:48.991 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "carriers" does not exist, skipping
14:26:48.991 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       drop constraint if exists FKc5y4482qvckt44i6rthl6a6x2
14:26:48.992 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
14:26:48.992 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - relation "carriers" does not exist, skipping
14:26:48.992 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
14:26:48.993 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
14:26:48.994 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
14:26:48.996 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
14:26:48.998 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
14:26:48.999 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
14:26:49.001 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
14:26:49.002 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
14:26:49.004 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
14:26:49.005 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
14:26:49.005 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
14:26:49.006 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
14:26:49.008 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
14:26:49.008 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
14:26:49.010 [main] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
14:26:49.017 [main] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
14:26:49.021 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carriers cascade
14:26:49.022 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
14:26:49.023 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - table "carriers" does not exist, skipping
14:26:49.023 [main] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
14:26:49.027 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
14:26:49.035 [main] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
14:26:49.038 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
14:26:49.041 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
14:26:49.044 [main] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
14:26:49.049 [main] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
14:26:49.056 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
14:26:49.069 [main] DEBUG org.hibernate.SQL - 
    create table addresses (
        latitude float(53),
        longitude float(53),
        id bigserial not null,
        address varchar(255),
        city varchar(255),
        state varchar(255),
        type varchar(255) check (type in ('CURRENT','SOURCE','DESTINATION')),
        primary key (id)
    )
14:26:49.088 [main] DEBUG org.hibernate.SQL - 
    create table agents (
        percent_to_express integer,
        percent_to_standard integer,
        price_per_km integer,
        price_per_lb integer,
        id bigint not null,
        company_address varchar(255),
        company_name varchar(255),
        primary key (id)
    )
14:26:49.099 [main] DEBUG org.hibernate.SQL - 
    create table carriers (
        agent_id integer,
        id bigint not null,
        primary key (id)
    )
14:26:49.104 [main] DEBUG org.hibernate.SQL - 
    create table documents (
        id bigserial not null,
        order_id integer,
        user_id integer,
        format varchar(255),
        name varchar(255),
        type varchar(255) check (type in ('CV','PASSPORT','DRIVERS_LICENSES','INSURANCE','TECH_PASSPORT')),
        primary key (id)
    )
14:26:49.117 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        distance float(53),
        total_price float(53),
        volume integer,
        broker_id bigint,
        carrier_id bigint,
        created_date TIMESTAMP,
        current_location_id bigint unique,
        delivered_date TIMESTAMP,
        destination_address_id bigint unique,
        estimated_delivery_date TIMESTAMP,
        id bigserial not null,
        price bigint,
        shipper_id bigint,
        source_address_id bigint unique,
        taken_date TIMESTAMP,
        duration varchar(255),
        name varchar(255),
        status varchar(255) check (status in ('WAITING','TAKEN','CONFIRMED','ACCEPTED','SHIPPED','DELIVERED','REJECTED')),
        type varchar(255) check (type in ('STANDARD','EXPRESS')),
        type_id varchar(255),
        primary key (id)
    )
14:26:49.137 [main] DEBUG org.hibernate.SQL - 
    create table permissions (
        name varchar(255) not null,
        primary key (name)
    )
14:26:49.143 [main] DEBUG org.hibernate.SQL - 
    create table product_types (
        name varchar(255) not null,
        primary key (name)
    )
14:26:49.148 [main] DEBUG org.hibernate.SQL - 
    create table roles (
        name varchar(255) not null,
        primary key (name)
    )
14:26:49.153 [main] DEBUG org.hibernate.SQL - 
    create table roles_permissions (
        permission_id varchar(255) not null,
        role_id varchar(255) not null,
        primary key (permission_id, role_id)
    )
14:26:49.164 [main] DEBUG org.hibernate.SQL - 
    create table transports (
        capacity integer,
        agent_id bigint,
        carrier_id bigint unique,
        id bigserial not null,
        model varchar(255),
        number varchar(255),
        type varchar(255) check (type in ('TRUCK','PASSENGER_CAR')),
        primary key (id)
    )
14:26:49.183 [main] DEBUG org.hibernate.SQL - 
    create table users (
        birth_date date,
        is_confirmed boolean,
        created_at timestamp(6),
        id bigserial not null,
        address varchar(255),
        fio varchar(255),
        password varchar(255),
        phone varchar(255),
        role varchar(255),
        username varchar(255) unique,
        primary key (id)
    )
14:26:49.198 [main] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       add constraint FKqaw7vqyrwpqych5yeuwyjcyjs 
       foreign key (id) 
       references users
14:26:49.206 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       add constraint FKshubcnwtfbihsspu2ciehpveg 
       foreign key (agent_id) 
       references agents
14:26:49.210 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       add constraint FKc5y4482qvckt44i6rthl6a6x2 
       foreign key (id) 
       references users
14:26:49.213 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKpa2ye2pqmpd55sy72g6ho2hbr 
       foreign key (order_id) 
       references orders
14:26:49.220 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       add constraint FKkxttj4tp5le2uth212lu49vny 
       foreign key (user_id) 
       references users
14:26:49.221 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKk6ql5aqbb1c1qjsk22bhotfxv 
       foreign key (broker_id) 
       references users
14:26:49.222 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKb47jiphk85fc69thu4g3ujq7f 
       foreign key (carrier_id) 
       references users
14:26:49.224 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK7ew63b14w8j2wq3daldcdgbx0 
       foreign key (current_location_id) 
       references addresses
14:26:49.227 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKnjq7xrupks4ys8g5mmtkchlqg 
       foreign key (destination_address_id) 
       references addresses
14:26:49.228 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKm1hb2iybrajm11caj5f8nce5l 
       foreign key (type_id) 
       references product_types
14:26:49.233 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FKmjnf91amspoh2m4qg8ct5y8uj 
       foreign key (shipper_id) 
       references users
14:26:49.235 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK8b39epmo9mapvq405ynbsida2 
       foreign key (source_address_id) 
       references addresses
14:26:49.237 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKbx9r9uw77p58gsq4mus0mec0o 
       foreign key (permission_id) 
       references permissions
14:26:49.242 [main] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       add constraint FKqi9odri6c1o81vjox54eedwyh 
       foreign key (role_id) 
       references roles
14:26:49.246 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKlv4tu9vlg15w63rl1v78kf4fj 
       foreign key (agent_id) 
       references agents
14:26:49.250 [main] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       add constraint FKrm2pxhumjebm7x60q5fsihlit 
       foreign key (carrier_id) 
       references users
14:26:49.256 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint FK4c6vlshk8x83ifeoggi3exg3k 
       foreign key (role) 
       references roles
14:26:49.267 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:26:50.038 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:26:50.733 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:26:51.105 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e8627e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36bf903c, org.springframework.security.web.context.SecurityContextHolderFilter@290964bd, org.springframework.security.web.header.HeaderWriterFilter@22e7ec5f, org.springframework.web.filter.CorsFilter@2a073f4f, org.springframework.security.web.authentication.logout.LogoutFilter@461f295c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22ff53d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a2d0632, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75044df3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55b9ffd0, org.springframework.security.web.access.ExceptionTranslationFilter@42908ad5, org.springframework.security.web.access.intercept.AuthorizationFilter@1cf38112]
14:26:51.393 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:51.394 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:26:51.394 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:51.394 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:26:51.394 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:51.394 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:26:51.394 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:26:51.394 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:26:51.413 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ca773685-12d8-40a4-bef8-4dd137b6d436

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:26:51.470 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:26:51.503 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:26:51.519 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.236 seconds (process running for 8.046)
14:28:07.258 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:28:07.259 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists agents 
       drop constraint if exists FKqaw7vqyrwpqych5yeuwyjcyjs
14:28:07.269 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       drop constraint if exists FKshubcnwtfbihsspu2ciehpveg
14:28:07.270 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       drop constraint if exists FKc5y4482qvckt44i6rthl6a6x2
14:28:07.271 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKpa2ye2pqmpd55sy72g6ho2hbr
14:28:07.272 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       drop constraint if exists FKkxttj4tp5le2uth212lu49vny
14:28:07.273 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKk6ql5aqbb1c1qjsk22bhotfxv
14:28:07.274 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKb47jiphk85fc69thu4g3ujq7f
14:28:07.275 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK7ew63b14w8j2wq3daldcdgbx0
14:28:07.275 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKnjq7xrupks4ys8g5mmtkchlqg
14:28:07.276 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKm1hb2iybrajm11caj5f8nce5l
14:28:07.277 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FKmjnf91amspoh2m4qg8ct5y8uj
14:28:07.278 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       drop constraint if exists FK8b39epmo9mapvq405ynbsida2
14:28:07.279 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKbx9r9uw77p58gsq4mus0mec0o
14:28:07.280 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists roles_permissions 
       drop constraint if exists FKqi9odri6c1o81vjox54eedwyh
14:28:07.280 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKlv4tu9vlg15w63rl1v78kf4fj
14:28:07.281 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists transports 
       drop constraint if exists FKrm2pxhumjebm7x60q5fsihlit
14:28:07.282 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists FK4c6vlshk8x83ifeoggi3exg3k
14:28:07.283 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists addresses cascade
14:28:07.289 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists agents cascade
14:28:07.292 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carriers cascade
14:28:07.294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists documents cascade
14:28:07.299 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
14:28:07.306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists permissions cascade
14:28:07.309 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists product_types cascade
14:28:07.311 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists roles cascade
14:28:07.313 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists roles_permissions cascade
14:28:07.316 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists transports cascade
14:28:07.322 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
14:28:07.330 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:28:07.335 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:29:20.564 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:29:20.617 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 20788 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:29:20.618 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:29:21.958 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:29:22.183 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 211 ms. Found 9 JPA repository interfaces.
14:29:23.065 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:29:23.077 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:29:23.079 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:29:23.079 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:29:23.222 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:29:23.222 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2560 ms
14:29:23.429 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:29:23.684 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@299b9851
14:29:23.688 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:29:24.042 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:29:24.211 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:29:24.379 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:29:24.444 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:29:24.481 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:29:24.485 [main] INFO  liquibase.util - UPDATE SUMMARY
14:29:24.486 [main] INFO  liquibase.util - Run:                          0
14:29:24.486 [main] INFO  liquibase.util - Previously run:               2
14:29:24.486 [main] INFO  liquibase.util - Filtered out:                 0
14:29:24.486 [main] INFO  liquibase.util - -------------------------------
14:29:24.486 [main] INFO  liquibase.util - Total change sets:            2

14:29:24.486 [main] INFO  liquibase.util - Update summary generated
14:29:24.490 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:29:24.496 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:29:24.498 [main] INFO  liquibase.command - Command execution complete
14:29:24.583 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:29:24.642 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:29:24.644 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:29:24.808 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:29:24.999 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:29:25.514 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:29:25.745 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:29:27.044 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:29:27.049 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [javax.persistence.schema-generation.scripts.action], use [jakarta.persistence.schema-generation.scripts.action] instead
14:29:27.052 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.create-source], use [javax.persistence.schema-generation.create-source] instead
14:29:27.053 [main] WARN  org.hibernate.orm.deprecation - HHH90000021: Encountered deprecated setting [jakarta.persistence.schema-generation.scripts.create-target], use [javax.persistence.schema-generation.scripts.create-target] instead
14:29:27.078 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:29:27.990 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:29:28.786 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:29:29.269 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30c98124, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47523643, org.springframework.security.web.context.SecurityContextHolderFilter@1b7bab7e, org.springframework.security.web.header.HeaderWriterFilter@74944d7f, org.springframework.web.filter.CorsFilter@4d9dd8cc, org.springframework.security.web.authentication.logout.LogoutFilter@ea2f3a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7dc155b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f5fd883, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7dd63fcc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10d1f6da, org.springframework.security.web.access.ExceptionTranslationFilter@27bf05af, org.springframework.security.web.access.intercept.AuthorizationFilter@4916619e]
14:29:29.667 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:29:29.667 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:29:29.667 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:29:29.667 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:29:29.668 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:29:29.668 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:29:29.668 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:29:29.668 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:29:29.688 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: eff8fe8b-915a-495d-806d-0a4e68a8e060

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:29:29.745 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:29:29.790 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:29:29.804 [main] INFO  c.c.DemoApplication - Started DemoApplication in 9.832 seconds (process running for 10.657)
14:30:42.798 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:30:42.800 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:30:42.805 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:30:45.699 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:30:45.741 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 24652 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:30:45.742 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:30:46.777 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:30:46.950 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 9 JPA repository interfaces.
14:30:47.551 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:30:47.558 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:30:47.559 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:30:47.559 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:30:47.652 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:30:47.652 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1829 ms
14:30:47.829 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:30:48.009 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58b311ba
14:30:48.011 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:30:48.320 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:30:48.570 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:30:48.856 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:30:48.974 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:30:49.021 [main] INFO  liquibase.changelog - Change failed validation!
14:30:49.032 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:30:49.035 [main] INFO  liquibase.command - Command execution complete
14:30:49.036 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::tkambarov was: 8:b2f480955d60402cc11c1479b726c3fb but is now: 8:4ead7b839baa9c3152a03804100947bd

14:30:49.036 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:30:49.044 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:30:49.047 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
14:30:49.063 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
14:30:49.079 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::tkambarov was: 8:b2f480955d60402cc11c1479b726c3fb but is now: 8:4ead7b839baa9c3152a03804100947bd

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.cargotransportation.DemoApplication.main(DemoApplication.java:10)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::tkambarov was: 8:b2f480955d60402cc11c1479b726c3fb but is now: 8:4ead7b839baa9c3152a03804100947bd

	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1618)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/202307081100_init_db.xml::init_db::tkambarov was: 8:b2f480955d60402cc11c1479b726c3fb but is now: 8:4ead7b839baa9c3152a03804100947bd

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:354)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:80)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
14:31:30.217 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:31:30.269 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 13092 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:31:30.270 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:31:31.200 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:31:31.368 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 9 JPA repository interfaces.
14:31:32.054 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:31:32.061 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:31:32.063 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:31:32.063 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:31:32.179 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:31:32.180 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1835 ms
14:31:32.337 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:31:32.537 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e49ded
14:31:32.539 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:31:32.849 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:31:33.130 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:31:33.426 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:31:33.557 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:31:33.591 [main] INFO  liquibase.command - Using deploymentId: 8805093561
14:31:33.632 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:31:33.837 [main] INFO  liquibase.changelog - SQL in file db/sql/init_db.sql executed
14:31:33.840 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::tkambarov ran successfully in 182ms
14:31:33.867 [main] INFO  liquibase.changelog - Custom SQL executed
14:31:33.868 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081300_populate_db.xml::populate_db::tkambarov ran successfully in 18ms
14:31:33.872 [main] INFO  liquibase.util - UPDATE SUMMARY
14:31:33.873 [main] INFO  liquibase.util - Run:                          2
14:31:33.873 [main] INFO  liquibase.util - Previously run:               0
14:31:33.873 [main] INFO  liquibase.util - Filtered out:                 0
14:31:33.873 [main] INFO  liquibase.util - -------------------------------
14:31:33.873 [main] INFO  liquibase.util - Total change sets:            2

14:31:33.873 [main] INFO  liquibase.util - Update summary generated
14:31:33.875 [main] INFO  liquibase.command - Update command completed successfully.
14:31:33.883 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:31:33.888 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:31:33.889 [main] INFO  liquibase.command - Command execution complete
14:31:33.960 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:31:34.010 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:31:34.012 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:31:34.160 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:31:34.294 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:31:34.680 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:31:35.968 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:31:36.023 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
14:31:36.025 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
14:31:36.027 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
14:31:36.029 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
14:31:36.030 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
14:31:36.033 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
14:31:36.034 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
14:31:36.035 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
14:31:36.036 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
14:31:36.037 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
14:31:36.038 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
14:31:36.040 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
14:31:36.202 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:31:37.003 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:31:37.667 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:31:37.993 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5323c6de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e1321fd, org.springframework.security.web.context.SecurityContextHolderFilter@7b6846c6, org.springframework.security.web.header.HeaderWriterFilter@720f0fa2, org.springframework.web.filter.CorsFilter@3af5f0da, org.springframework.security.web.authentication.logout.LogoutFilter@1b6dab22, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6bd8d8a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@503e1cd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20b54b6e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b92cdf9, org.springframework.security.web.access.ExceptionTranslationFilter@2e61695b, org.springframework.security.web.access.intercept.AuthorizationFilter@356285d9]
14:31:38.230 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:31:38.230 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:31:38.230 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:31:38.230 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:31:38.231 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:31:38.231 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:31:38.232 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:31:38.232 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:31:38.254 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ef4a4200-35b6-4e20-8ce4-22cab4bbd5b5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:31:38.306 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:31:38.331 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:31:38.340 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.433 seconds (process running for 9.188)
14:31:57.472 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
14:31:57.472 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
14:31:57.475 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
14:35:40.821 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:35:40.823 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:35:40.827 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:35:46.842 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:35:46.880 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 25032 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:35:46.881 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:35:47.679 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:35:47.827 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 136 ms. Found 9 JPA repository interfaces.
14:35:48.495 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:35:48.503 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:35:48.505 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:35:48.505 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:35:48.607 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:35:48.608 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1698 ms
14:35:48.759 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:35:48.960 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b560eb0
14:35:48.962 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:35:49.287 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:35:49.538 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:35:49.814 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:35:49.936 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:35:49.997 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:35:50.002 [main] INFO  liquibase.util - UPDATE SUMMARY
14:35:50.002 [main] INFO  liquibase.util - Run:                          0
14:35:50.002 [main] INFO  liquibase.util - Previously run:               2
14:35:50.002 [main] INFO  liquibase.util - Filtered out:                 0
14:35:50.003 [main] INFO  liquibase.util - -------------------------------
14:35:50.003 [main] INFO  liquibase.util - Total change sets:            2

14:35:50.003 [main] INFO  liquibase.util - Update summary generated
14:35:50.007 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:35:50.011 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:35:50.013 [main] INFO  liquibase.command - Command execution complete
14:35:50.108 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:35:50.159 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:35:50.164 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:35:50.297 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:35:50.430 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:35:50.783 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:35:51.926 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:35:51.984 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
14:35:51.988 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
14:35:51.989 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
14:35:51.994 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
14:35:51.996 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
14:35:51.997 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
14:35:51.998 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
14:35:51.999 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
14:35:52.000 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
14:35:52.002 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
14:35:52.002 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
14:35:52.003 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
14:35:52.152 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:35:52.965 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:35:53.563 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:35:53.905 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f0f52d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23551fa1, org.springframework.security.web.context.SecurityContextHolderFilter@d22c288, org.springframework.security.web.header.HeaderWriterFilter@3fde6c3b, org.springframework.web.filter.CorsFilter@152a41ab, org.springframework.security.web.authentication.logout.LogoutFilter@2aaa5122, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a7c82e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f0e0db3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10ab3bc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a372288, org.springframework.security.web.access.ExceptionTranslationFilter@fff33b4, org.springframework.security.web.access.intercept.AuthorizationFilter@3d7fc4b3]
14:35:54.200 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:35:54.201 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:35:54.201 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:35:54.201 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:35:54.201 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:35:54.201 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:35:54.201 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:35:54.202 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:35:54.213 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 26e76fd9-0c2a-4e93-9b3f-bd38ef025eae

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:35:54.253 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:35:54.278 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:35:54.288 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.807 seconds (process running for 8.62)
14:36:47.613 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
14:36:47.613 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
14:36:47.615 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
14:36:47.939 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:36:47.967 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:36:59.117 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:36:59.125 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:36:59.133 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        agents
        (company_address,company_name,percent_to_express,percent_to_standard,price_per_km,price_per_lb,id) 
    values
        (?,?,?,?,?,?,?)
14:37:02.935 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:37:02.938 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:39:09.412 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:39:09.437 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:39:09.453 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:39:19.745 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:39:19.748 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:39:19.758 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
14:39:19.758 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_username_key"
  Detail: Key (username)=(carrier) already exists.
14:41:21.646 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:41:21.649 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:41:21.653 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:41:26.893 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:41:26.941 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 21696 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:41:26.943 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:41:27.954 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:41:28.118 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 9 JPA repository interfaces.
14:41:28.934 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:41:28.944 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:41:28.947 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:41:28.947 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:41:29.069 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:41:29.070 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2076 ms
14:41:29.240 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:41:29.457 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9e02f84
14:41:29.459 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:41:29.834 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:41:29.952 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:41:30.093 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:41:30.148 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:41:30.174 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:41:30.180 [main] INFO  liquibase.util - UPDATE SUMMARY
14:41:30.180 [main] INFO  liquibase.util - Run:                          0
14:41:30.180 [main] INFO  liquibase.util - Previously run:               2
14:41:30.180 [main] INFO  liquibase.util - Filtered out:                 0
14:41:30.180 [main] INFO  liquibase.util - -------------------------------
14:41:30.180 [main] INFO  liquibase.util - Total change sets:            2

14:41:30.181 [main] INFO  liquibase.util - Update summary generated
14:41:30.186 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:41:30.188 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:41:30.189 [main] INFO  liquibase.command - Command execution complete
14:41:30.264 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:41:30.320 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:41:30.327 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:41:30.514 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:41:30.695 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:41:31.091 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:41:32.315 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:41:32.355 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
14:41:32.359 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
14:41:32.360 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
14:41:32.366 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
14:41:32.368 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
14:41:32.369 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
14:41:32.371 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
14:41:32.371 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
14:41:32.371 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
14:41:32.373 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
14:41:32.373 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
14:41:32.375 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
14:41:32.567 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:41:33.376 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:41:34.049 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:41:34.489 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23551fa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@152a41ab, org.springframework.security.web.context.SecurityContextHolderFilter@4151d8a3, org.springframework.security.web.header.HeaderWriterFilter@36810c06, org.springframework.web.filter.CorsFilter@5a372288, org.springframework.security.web.authentication.logout.LogoutFilter@2b45ede, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22128b73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10ab3bc0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b068ddf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f4b52fa, org.springframework.security.web.access.ExceptionTranslationFilter@7327dba0, org.springframework.security.web.access.intercept.AuthorizationFilter@4ccfd904]
14:41:34.800 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:41:34.801 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:41:34.801 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:41:34.801 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:41:34.801 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:41:34.801 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:41:34.802 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:41:34.802 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:41:34.817 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0b362559-a9ee-4e1d-b00d-1713d98ca09c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:41:34.868 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:41:34.918 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:41:34.934 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.397 seconds (process running for 9.174)
14:42:01.589 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:42:01.590 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:42:01.593 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:42:06.760 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:42:06.796 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 24980 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:42:06.797 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:42:07.565 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:42:07.719 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 9 JPA repository interfaces.
14:42:08.329 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:42:08.337 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:42:08.339 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:42:08.339 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:42:08.428 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:42:08.429 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1596 ms
14:42:08.595 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:42:08.800 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@570a62a5
14:42:08.803 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:42:09.096 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:42:09.386 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:42:09.706 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:42:09.854 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:42:09.906 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:42:09.923 [main] INFO  liquibase.util - UPDATE SUMMARY
14:42:09.924 [main] INFO  liquibase.util - Run:                          0
14:42:09.924 [main] INFO  liquibase.util - Previously run:               2
14:42:09.924 [main] INFO  liquibase.util - Filtered out:                 0
14:42:09.924 [main] INFO  liquibase.util - -------------------------------
14:42:09.924 [main] INFO  liquibase.util - Total change sets:            2

14:42:09.926 [main] INFO  liquibase.util - Update summary generated
14:42:09.931 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:42:09.938 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:42:09.941 [main] INFO  liquibase.command - Command execution complete
14:42:10.015 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:42:10.065 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:42:10.068 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:42:10.201 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:42:10.343 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:42:10.770 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:42:11.931 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:42:11.981 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
14:42:11.983 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
14:42:11.984 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
14:42:11.990 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
14:42:11.991 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
14:42:11.992 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
14:42:11.993 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
14:42:11.994 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
14:42:11.995 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
14:42:11.996 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
14:42:11.996 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
14:42:11.998 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
14:42:12.166 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:42:12.858 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:42:13.635 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:42:13.935 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75f1c170, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63fa0b9, org.springframework.security.web.context.SecurityContextHolderFilter@3d5a6c07, org.springframework.security.web.header.HeaderWriterFilter@445dc8dc, org.springframework.web.filter.CorsFilter@3316aef6, org.springframework.security.web.authentication.logout.LogoutFilter@419e46bb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3468faa5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55abf66a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cc0efa2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67620d80, org.springframework.security.web.access.ExceptionTranslationFilter@10ab3bc0, org.springframework.security.web.access.intercept.AuthorizationFilter@31ebc5fa]
14:42:14.231 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:42:14.232 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:42:14.233 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:42:14.233 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:42:14.233 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:42:14.233 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:42:14.233 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:42:14.233 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:42:14.249 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 542df0bb-a783-41f3-b595-3144c6c8e251

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:42:14.293 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:42:14.321 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:42:14.334 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.894 seconds (process running for 8.741)
14:42:56.833 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
14:42:56.836 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
14:42:56.841 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
14:43:02.786 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
14:43:02.829 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 14168 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
14:43:02.830 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
14:43:03.607 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:43:03.773 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 142 ms. Found 9 JPA repository interfaces.
14:43:04.452 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
14:43:04.459 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
14:43:04.461 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
14:43:04.461 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
14:43:04.601 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
14:43:04.602 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1736 ms
14:43:04.764 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
14:43:04.946 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e6060f1
14:43:04.948 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
14:43:05.296 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
14:43:05.563 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
14:43:05.858 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
14:43:05.980 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:43:06.050 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
14:43:06.056 [main] INFO  liquibase.util - UPDATE SUMMARY
14:43:06.056 [main] INFO  liquibase.util - Run:                          0
14:43:06.056 [main] INFO  liquibase.util - Previously run:               2
14:43:06.056 [main] INFO  liquibase.util - Filtered out:                 0
14:43:06.057 [main] INFO  liquibase.util - -------------------------------
14:43:06.057 [main] INFO  liquibase.util - Total change sets:            2

14:43:06.058 [main] INFO  liquibase.util - Update summary generated
14:43:06.061 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:43:06.067 [main] INFO  liquibase.lockservice - Successfully released change log lock
14:43:06.069 [main] INFO  liquibase.command - Command execution complete
14:43:06.171 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
14:43:06.224 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
14:43:06.226 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
14:43:06.379 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:43:06.505 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
14:43:06.866 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
14:43:08.308 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
14:43:08.370 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
14:43:08.374 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
14:43:08.376 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
14:43:08.380 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
14:43:08.381 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
14:43:08.384 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
14:43:08.384 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
14:43:08.385 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
14:43:08.386 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
14:43:08.387 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
14:43:08.388 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
14:43:08.389 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
14:43:08.541 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
14:43:09.474 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
14:43:10.158 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:43:10.658 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@152a41ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a372288, org.springframework.security.web.context.SecurityContextHolderFilter@7f0e0db3, org.springframework.security.web.header.HeaderWriterFilter@4015ebf1, org.springframework.web.filter.CorsFilter@3f4b52fa, org.springframework.security.web.authentication.logout.LogoutFilter@77a38cec, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@338f9bb5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b068ddf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@445dc8dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3468faa5, org.springframework.security.web.access.ExceptionTranslationFilter@3fde6c3b, org.springframework.security.web.access.intercept.AuthorizationFilter@5de25642]
14:43:10.946 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:43:10.947 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
14:43:10.947 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:43:10.947 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
14:43:10.947 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:43:10.947 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
14:43:10.947 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
14:43:10.947 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
14:43:10.957 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 25e3be23-ed77-4abb-9a21-5137fe60fd3f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

14:43:10.999 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
14:43:11.046 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
14:43:11.068 [main] INFO  c.c.DemoApplication - Started DemoApplication in 8.603 seconds (process running for 9.559)
14:43:14.560 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
14:43:14.560 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
14:43:14.561 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
14:43:14.915 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:43:14.963 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:43:14.985 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:43:34.908 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:43:35.021 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:43:35.039 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:44:09.736 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /carrier
14:44:09.841 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since user account is disabled
14:44:09.843 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.DisabledException: User is disabled
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider$DefaultPreAuthenticationChecks.check(AbstractUserDetailsAuthenticationProvider.java:331)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:146)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
14:44:09.847 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
14:44:09.847 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@5096d6f7
14:45:11.548 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
14:45:11.566 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since user account is disabled
14:45:11.567 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.DisabledException: User is disabled
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider$DefaultPreAuthenticationChecks.check(AbstractUserDetailsAuthenticationProvider.java:331)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:146)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
14:45:11.568 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
14:45:11.568 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@5096d6f7
14:45:16.478 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:45:16.484 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:45:16.486 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:45:46.871 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:45:46.873 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:45:46.881 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:46:00.059 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
14:46:00.063 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since user account is disabled
14:46:00.065 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.DisabledException: User is disabled
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider$DefaultPreAuthenticationChecks.check(AbstractUserDetailsAuthenticationProvider.java:331)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:146)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
14:46:00.066 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
14:46:00.067 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@5096d6f7
14:46:24.040 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
14:46:24.047 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since user account is disabled
14:46:24.047 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.DisabledException: User is disabled
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider$DefaultPreAuthenticationChecks.check(AbstractUserDetailsAuthenticationProvider.java:331)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:146)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
14:46:24.048 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
14:46:24.048 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@5096d6f7
14:46:59.251 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
14:46:59.326 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
14:46:59.327 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
14:46:59.333 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
14:46:59.340 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:46:59.345 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:46:59.349 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:47:09.636 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:47:09.641 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:47:09.647 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:47:15.205 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:47:15.278 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:47:15.281 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:47:50.493 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /carrier
14:47:50.566 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
14:47:50.567 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
14:47:50.567 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /carrier
14:47:56.214 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /carriers
14:47:56.286 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
14:47:56.287 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
14:47:56.287 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /carriers
14:48:04.020 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /agent/carriers
14:48:04.090 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
14:48:04.092 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
14:48:04.092 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /agent/carriers
14:48:04.095 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:48:04.100 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:48:04.105 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:48:04.123 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_1.address,
        c1_1.birth_date,
        c1_1.created_at,
        c1_1.id,
        c1_1.fio,
        c1_1.is_confirmed,
        c1_1.password,
        c1_1.phone,
        c1_1.role,
        c1_1.username,
        c1_0.agent_id 
    from
        carriers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_0.agent_id=?
14:49:12.957 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:49:50.707 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:49:50.712 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:50:04.457 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:50:17.489 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
14:50:17.491 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
14:50:25.404 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
14:50:25.476 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
14:50:25.477 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
14:50:25.479 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
14:50:25.482 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:50:25.484 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:50:25.488 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
14:50:50.971 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
14:50:50.974 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
14:50:50.977 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:00:58.386 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
15:00:58.389 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
15:00:58.393 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
15:01:02.030 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
15:01:02.078 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 16820 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
15:01:02.080 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
15:01:02.800 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:01:02.913 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 106 ms. Found 9 JPA repository interfaces.
15:01:03.428 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
15:01:03.435 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
15:01:03.436 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
15:01:03.437 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
15:01:03.534 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
15:01:03.534 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1408 ms
15:01:03.663 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
15:01:03.899 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9e02f84
15:01:03.902 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
15:01:04.238 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
15:01:04.425 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
15:01:04.666 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
15:01:04.781 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:01:04.831 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:01:04.845 [main] INFO  liquibase.util - UPDATE SUMMARY
15:01:04.846 [main] INFO  liquibase.util - Run:                          0
15:01:04.846 [main] INFO  liquibase.util - Previously run:               2
15:01:04.846 [main] INFO  liquibase.util - Filtered out:                 0
15:01:04.846 [main] INFO  liquibase.util - -------------------------------
15:01:04.846 [main] INFO  liquibase.util - Total change sets:            2

15:01:04.847 [main] INFO  liquibase.util - Update summary generated
15:01:04.849 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:01:04.853 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:01:04.854 [main] INFO  liquibase.command - Command execution complete
15:01:04.940 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
15:01:05.007 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
15:01:05.009 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
15:01:05.133 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:01:05.264 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
15:01:05.573 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:01:06.451 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
15:01:06.495 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
15:01:06.498 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
15:01:06.499 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
15:01:06.504 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
15:01:06.505 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
15:01:06.507 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
15:01:06.508 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
15:01:06.508 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
15:01:06.509 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
15:01:06.510 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
15:01:06.511 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
15:01:06.512 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
15:01:06.639 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
15:01:07.379 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
15:01:07.908 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:01:08.177 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@152a41ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a372288, org.springframework.security.web.context.SecurityContextHolderFilter@7f0e0db3, org.springframework.security.web.header.HeaderWriterFilter@4015ebf1, org.springframework.web.filter.CorsFilter@3f4b52fa, org.springframework.security.web.authentication.logout.LogoutFilter@77a38cec, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@338f9bb5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b068ddf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@445dc8dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3468faa5, org.springframework.security.web.access.ExceptionTranslationFilter@3fde6c3b, org.springframework.security.web.access.intercept.AuthorizationFilter@5de25642]
15:01:08.376 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:01:08.378 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
15:01:08.379 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:01:08.379 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
15:01:08.379 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:01:08.379 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
15:01:08.379 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:01:08.380 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
15:01:08.392 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 70c847c4-2f76-4e75-ba99-66626a5c9c3a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

15:01:08.431 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
15:01:08.455 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
15:01:08.464 [main] INFO  c.c.DemoApplication - Started DemoApplication in 6.807 seconds (process running for 7.521)
15:01:18.910 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
15:01:18.911 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
15:01:18.914 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
15:01:18.953 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
15:01:19.158 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:01:19.161 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:01:19.166 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
15:01:39.432 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:01:39.459 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:01:39.475 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:02:02.890 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:02:02.896 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:02:02.901 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:02:10.235 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:02:57.242 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s16ms959s200ns).
15:02:57.346 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
15:02:57.365 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
15:02:57.488 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
15:02:57.494 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
15:02:57.502 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
15:03:02.536 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
15:03:02.569 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 21536 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
15:03:02.569 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
15:03:03.386 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:03:03.529 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 134 ms. Found 9 JPA repository interfaces.
15:03:04.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
15:03:04.019 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
15:03:04.021 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
15:03:04.021 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
15:03:04.095 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
15:03:04.095 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1492 ms
15:03:04.216 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
15:03:04.396 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b560eb0
15:03:04.402 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
15:03:04.655 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
15:03:04.805 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
15:03:05.025 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
15:03:05.126 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:03:05.186 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:03:05.196 [main] INFO  liquibase.util - UPDATE SUMMARY
15:03:05.201 [main] INFO  liquibase.util - Run:                          0
15:03:05.201 [main] INFO  liquibase.util - Previously run:               2
15:03:05.201 [main] INFO  liquibase.util - Filtered out:                 0
15:03:05.201 [main] INFO  liquibase.util - -------------------------------
15:03:05.201 [main] INFO  liquibase.util - Total change sets:            2

15:03:05.201 [main] INFO  liquibase.util - Update summary generated
15:03:05.211 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:03:05.216 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:03:05.216 [main] INFO  liquibase.command - Command execution complete
15:03:05.296 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
15:03:05.346 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
15:03:05.346 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
15:03:05.451 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:03:05.566 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
15:03:05.899 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:03:06.845 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
15:03:06.895 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
15:03:06.895 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
15:03:06.895 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
15:03:06.905 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
15:03:07.031 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
15:03:07.665 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
15:03:08.135 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:03:08.425 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23551fa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@152a41ab, org.springframework.security.web.context.SecurityContextHolderFilter@4151d8a3, org.springframework.security.web.header.HeaderWriterFilter@36810c06, org.springframework.web.filter.CorsFilter@5a372288, org.springframework.security.web.authentication.logout.LogoutFilter@2b45ede, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22128b73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10ab3bc0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b068ddf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f4b52fa, org.springframework.security.web.access.ExceptionTranslationFilter@7327dba0, org.springframework.security.web.access.intercept.AuthorizationFilter@4ccfd904]
15:03:08.625 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:03:08.625 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
15:03:08.625 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:03:08.625 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
15:03:08.625 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:03:08.625 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
15:03:08.625 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:03:08.625 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
15:03:08.636 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6a486c64-8a6e-45d3-844a-2eb3518fa077

This generated password is for development use only. Your security configuration must be updated before running your application in production.

15:03:08.675 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
15:03:08.699 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
15:03:08.705 [main] INFO  c.c.DemoApplication - Started DemoApplication in 6.439 seconds (process running for 7.21)
15:03:11.301 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
15:03:11.301 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
15:03:11.302 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
15:03:13.832 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:03:13.872 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:03:13.899 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:03:22.604 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:03:58.981 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s467ms831s700ns).
15:03:59.089 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
15:03:59.107 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
15:03:59.219 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
15:03:59.223 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
15:03:59.232 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
15:04:21.835 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
15:04:21.876 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 15460 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
15:04:21.877 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
15:04:22.733 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:04:22.883 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 9 JPA repository interfaces.
15:04:23.472 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
15:04:23.479 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
15:04:23.480 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
15:04:23.481 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
15:04:23.579 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
15:04:23.580 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1669 ms
15:04:23.713 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
15:04:23.896 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e40fbb3
15:04:23.899 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
15:04:24.167 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
15:04:24.288 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
15:04:24.451 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
15:04:24.541 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:04:24.599 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:04:24.604 [main] INFO  liquibase.util - UPDATE SUMMARY
15:04:24.604 [main] INFO  liquibase.util - Run:                          0
15:04:24.604 [main] INFO  liquibase.util - Previously run:               2
15:04:24.604 [main] INFO  liquibase.util - Filtered out:                 0
15:04:24.604 [main] INFO  liquibase.util - -------------------------------
15:04:24.604 [main] INFO  liquibase.util - Total change sets:            2

15:04:24.605 [main] INFO  liquibase.util - Update summary generated
15:04:24.607 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:04:24.611 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:04:24.612 [main] INFO  liquibase.command - Command execution complete
15:04:24.686 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
15:04:24.745 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
15:04:24.747 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
15:04:24.843 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:04:24.945 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
15:04:25.232 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:04:26.292 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
15:04:26.336 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
15:04:26.337 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
15:04:26.338 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
15:04:26.341 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
15:04:26.342 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
15:04:26.344 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
15:04:26.345 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
15:04:26.345 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
15:04:26.346 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
15:04:26.347 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
15:04:26.348 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
15:04:26.349 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
15:04:26.468 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
15:04:27.166 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
15:04:27.667 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:04:27.937 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f0f52d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23551fa1, org.springframework.security.web.context.SecurityContextHolderFilter@d22c288, org.springframework.security.web.header.HeaderWriterFilter@3fde6c3b, org.springframework.web.filter.CorsFilter@152a41ab, org.springframework.security.web.authentication.logout.LogoutFilter@2aaa5122, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2a7c82e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f0e0db3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10ab3bc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a372288, org.springframework.security.web.access.ExceptionTranslationFilter@fff33b4, org.springframework.security.web.access.intercept.AuthorizationFilter@3d7fc4b3]
15:04:28.137 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:04:28.137 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
15:04:28.138 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:04:28.138 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
15:04:28.138 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:04:28.138 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
15:04:28.138 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:04:28.138 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
15:04:28.148 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: df093747-4f47-4231-bf69-92875f1607c4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

15:04:28.183 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
15:04:28.205 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
15:04:28.220 [main] INFO  c.c.DemoApplication - Started DemoApplication in 6.695 seconds (process running for 7.453)
15:04:32.069 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
15:04:32.069 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
15:04:32.071 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
15:04:37.554 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:04:59.342 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:07:51.414 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m57s393ms737s500ns).
15:08:09.611 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /agent/carrier
15:08:09.793 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:08:09.794 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:08:09.798 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /agent/carrier
15:08:13.898 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /agent/carriers
15:08:13.982 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:08:13.983 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:08:13.983 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /agent/carriers
15:08:13.997 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:08:14.003 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:08:14.030 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:08:14.056 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:08:14.183 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
15:08:14.204 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
15:08:14.214 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        carriers
        (agent_id,id) 
    values
        (?,?)
15:08:14.242 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        birth_date=?,
        created_at=?,
        fio=?,
        is_confirmed=?,
        password=?,
        phone=?,
        role=?,
        username=? 
    where
        id=?
15:08:19.637 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /agent/carriers
15:08:19.640 [http-nio-8080-exec-8] DEBUG o.s.s.a.DefaultAuthenticationEventPublisher - No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
15:08:19.640 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.InternalAuthenticationServiceException: Cannot pass null or empty values to constructor
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:118)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
	at org.springframework.util.Assert.isTrue(Assert.java:122)
	at org.springframework.security.core.userdetails.User.<init>(User.java:110)
	at org.springframework.security.provisioning.JdbcUserDetailsManager.mapToUser(JdbcUserDetailsManager.java:197)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)
	at org.springframework.security.provisioning.JdbcUserDetailsManager.loadUsersByUsername(JdbcUserDetailsManager.java:181)
	at org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl.loadUserByUsername(JdbcDaoImpl.java:184)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:103)
	... 59 common frames omitted
15:08:19.643 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
15:08:19.644 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@47d5cadd
15:09:16.589 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /agent/carriers
15:09:16.593 [http-nio-8080-exec-9] DEBUG o.s.s.a.DefaultAuthenticationEventPublisher - No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
15:09:16.593 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.InternalAuthenticationServiceException: Cannot pass null or empty values to constructor
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:118)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
	at org.springframework.util.Assert.isTrue(Assert.java:122)
	at org.springframework.security.core.userdetails.User.<init>(User.java:110)
	at org.springframework.security.provisioning.JdbcUserDetailsManager.mapToUser(JdbcUserDetailsManager.java:197)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)
	at org.springframework.security.provisioning.JdbcUserDetailsManager.loadUsersByUsername(JdbcUserDetailsManager.java:181)
	at org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl.loadUserByUsername(JdbcDaoImpl.java:184)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:103)
	... 59 common frames omitted
15:09:16.594 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
15:09:16.594 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@47d5cadd
15:09:37.971 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
15:09:37.983 [http-nio-8080-exec-10] DEBUG o.s.s.a.DefaultAuthenticationEventPublisher - No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
15:09:37.983 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Failed to process authentication request
org.springframework.security.authentication.InternalAuthenticationServiceException: Cannot pass null or empty values to constructor
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:118)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
	at org.springframework.util.Assert.isTrue(Assert.java:122)
	at org.springframework.security.core.userdetails.User.<init>(User.java:110)
	at org.springframework.security.provisioning.JdbcUserDetailsManager.mapToUser(JdbcUserDetailsManager.java:197)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)
	at org.springframework.security.provisioning.JdbcUserDetailsManager.loadUsersByUsername(JdbcUserDetailsManager.java:181)
	at org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl.loadUserByUsername(JdbcDaoImpl.java:184)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:103)
	... 59 common frames omitted
15:09:37.984 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
15:09:37.984 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@47d5cadd
15:09:47.716 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:09:47.718 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:09:47.723 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:09:47.728 [http-nio-8080-exec-1] WARN  o.s.s.c.bcrypt.BCryptPasswordEncoder - Empty encoded password
15:10:28.707 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:10:28.712 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:10:28.715 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:10:28.719 [http-nio-8080-exec-3] WARN  o.s.s.c.bcrypt.BCryptPasswordEncoder - Empty encoded password
15:10:43.833 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:10:43.838 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:10:43.845 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:10:43.851 [http-nio-8080-exec-7] WARN  o.s.s.c.bcrypt.BCryptPasswordEncoder - Empty encoded password
15:11:05.360 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:11:05.364 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:11:05.371 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:11:11.502 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:11:11.506 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:11:11.508 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:11:11.511 [http-nio-8080-exec-5] WARN  o.s.s.c.bcrypt.BCryptPasswordEncoder - Empty encoded password
15:36:29.081 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
15:36:29.082 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
15:36:29.086 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
15:42:30.027 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
15:42:30.057 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 19148 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
15:42:30.058 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
15:42:30.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:42:30.972 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 9 JPA repository interfaces.
15:42:31.542 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
15:42:31.547 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
15:42:31.548 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
15:42:31.549 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
15:42:31.658 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
15:42:31.658 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1570 ms
15:42:31.797 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
15:42:31.986 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@563ccd31
15:42:31.988 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
15:42:32.274 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
15:42:32.520 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
15:42:32.840 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
15:42:32.953 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:42:33.003 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
15:42:33.008 [main] INFO  liquibase.util - UPDATE SUMMARY
15:42:33.008 [main] INFO  liquibase.util - Run:                          0
15:42:33.010 [main] INFO  liquibase.util - Previously run:               2
15:42:33.010 [main] INFO  liquibase.util - Filtered out:                 0
15:42:33.010 [main] INFO  liquibase.util - -------------------------------
15:42:33.010 [main] INFO  liquibase.util - Total change sets:            2

15:42:33.011 [main] INFO  liquibase.util - Update summary generated
15:42:33.013 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:42:33.017 [main] INFO  liquibase.lockservice - Successfully released change log lock
15:42:33.019 [main] INFO  liquibase.command - Command execution complete
15:42:33.088 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
15:42:33.154 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
15:42:33.159 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
15:42:33.258 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:42:33.362 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
15:42:33.685 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
15:42:34.720 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
15:42:34.764 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column latitude set data type float(53)
15:42:34.765 [main] DEBUG org.hibernate.SQL - 
    alter table if exists addresses 
       alter column longitude set data type float(53)
15:42:34.767 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carriers 
       alter column agent_id set data type integer
15:42:34.771 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column order_id set data type integer
15:42:34.772 [main] DEBUG org.hibernate.SQL - 
    alter table if exists documents 
       alter column user_id set data type integer
15:42:34.774 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column created_date set data type TIMESTAMP
15:42:34.775 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column delivered_date set data type TIMESTAMP
15:42:34.775 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column estimated_delivery_date set data type TIMESTAMP
15:42:34.776 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column taken_date set data type TIMESTAMP
15:42:34.776 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column distance set data type float(53)
15:42:34.777 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       alter column total_price set data type float(53)
15:42:34.778 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       alter column created_at set data type timestamp(6)
15:42:34.897 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
15:42:35.510 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
15:42:36.062 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:42:36.343 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c63aa5d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67a2fb00, org.springframework.security.web.context.SecurityContextHolderFilter@52148669, org.springframework.security.web.header.HeaderWriterFilter@17eb5858, org.springframework.web.filter.CorsFilter@6145981c, org.springframework.security.web.authentication.logout.LogoutFilter@30ff3726, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@63fa0b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@156290d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ee4c028, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16bc97b9, org.springframework.security.web.access.ExceptionTranslationFilter@28d61fc, org.springframework.security.web.access.intercept.AuthorizationFilter@5248688c]
15:42:36.586 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:42:36.586 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
15:42:36.586 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:42:36.587 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
15:42:36.587 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:42:36.587 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
15:42:36.587 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
15:42:36.587 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
15:42:36.604 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 17e640e6-d62a-49ed-ace8-fbd45aa061c7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

15:42:36.653 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
15:42:36.674 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
15:42:36.684 [main] INFO  c.c.DemoApplication - Started DemoApplication in 7.056 seconds (process running for 7.75)
15:42:44.235 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
15:42:44.235 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
15:42:44.236 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
15:42:44.529 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:42:44.564 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:42:44.595 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:42:51.642 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /profile
15:42:51.829 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:42:51.830 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:42:51.836 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /profile
15:42:51.843 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:42:51.847 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:42:51.855 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:42:51.888 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        r1_0.name,
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r2_0.name,
        a1_1.id,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        t1_0.capacity,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        u1_0.username,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        a2_0.id,
        a2_1.address,
        a2_1.birth_date,
        a2_1.created_at,
        a2_1.fio,
        a2_1.is_confirmed,
        a2_1.password,
        a2_1.phone,
        r3_0.name,
        t2_0.id,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r4_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a2_1.username,
        a2_0.company_address,
        a2_0.company_name,
        a2_0.percent_to_express,
        a2_0.percent_to_standard,
        a2_0.price_per_km,
        a2_0.price_per_lb,
        a2_1.id,
        u1_1.id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    left join
        roles r1_0 
            on r1_0.name=u1_0.role 
    left join
        transports t1_0 
            on u1_0.id=t1_0.carrier_id 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a1_1.role 
        left join
            (agents a2_0 
        join
            users a2_1 
                on a2_0.id=a2_1.id) 
                    on a2_0.id=u1_2.agent_id 
            left join
                roles r3_0 
                    on r3_0.name=a2_1.role 
            left join
                transports t2_0 
                    on a2_1.id=t2_0.carrier_id 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=t2_0.agent_id 
                left join
                    roles r4_0 
                        on r4_0.name=a3_1.role 
                where
                    u1_0.id=?
15:43:07.801 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /agent/carriers
15:43:07.870 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:43:07.871 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:43:07.873 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /agent/carriers
15:43:07.894 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:43:07.902 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:43:07.906 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:43:07.911 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:43:07.986 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t1_0.id,
        a2_0.id,
        a2_1.address,
        a2_1.birth_date,
        a2_1.created_at,
        a2_1.fio,
        a2_1.is_confirmed,
        a2_1.password,
        a2_1.phone,
        r2_0.name,
        a2_1.id,
        a2_1.username,
        a2_0.company_address,
        a2_0.company_name,
        a2_0.percent_to_express,
        a2_0.percent_to_standard,
        a2_0.price_per_km,
        a2_0.price_per_lb,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id 
    from
        agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id 
    left join
        roles r1_0 
            on r1_0.name=a1_1.role 
    left join
        transports t1_0 
            on a1_1.id=t1_0.carrier_id 
    left join
        (agents a2_0 
    join
        users a2_1 
            on a2_0.id=a2_1.id) 
                on a2_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a2_1.role 
        where
            a1_0.id=?
15:43:08.013 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        null 
    from
        roles r1_0 
    where
        r1_0.name=?
15:43:08.042 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address,birth_date,created_at,fio,is_confirmed,password,phone,role,username) 
    values
        (?,?,?,?,?,?,?,?,?)
15:43:08.059 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        carriers
        (agent_id,id) 
    values
        (?,?)
15:43:16.627 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /agent/carriers
15:43:16.701 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:43:16.702 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:43:16.702 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /agent/carriers
15:43:16.705 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:43:16.706 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:43:16.708 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:43:16.717 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_1.address,
        c1_1.birth_date,
        c1_1.created_at,
        c1_1.id,
        c1_1.fio,
        c1_1.is_confirmed,
        c1_1.password,
        c1_1.phone,
        c1_1.role,
        c1_1.username,
        c1_0.agent_id 
    from
        carriers c1_0 
    join
        users c1_1 
            on c1_0.id=c1_1.id 
    where
        c1_0.agent_id=?
15:43:16.719 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:43:16.722 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:43:16.727 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t1_0.id,
        a2_0.id,
        a2_1.address,
        a2_1.birth_date,
        a2_1.created_at,
        a2_1.fio,
        a2_1.is_confirmed,
        a2_1.password,
        a2_1.phone,
        r2_0.name,
        a2_1.id,
        a2_1.username,
        a2_0.company_address,
        a2_0.company_name,
        a2_0.percent_to_express,
        a2_0.percent_to_standard,
        a2_0.price_per_km,
        a2_0.price_per_lb,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id 
    from
        agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id 
    left join
        roles r1_0 
            on r1_0.name=a1_1.role 
    left join
        transports t1_0 
            on a1_1.id=t1_0.carrier_id 
    left join
        (agents a2_0 
    join
        users a2_1 
            on a2_0.id=a2_1.id) 
                on a2_0.id=t1_0.agent_id 
        left join
            roles r2_0 
                on r2_0.name=a2_1.role 
        where
            a1_0.id=?
15:43:16.735 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:43:38.520 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /transport
15:43:38.601 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:43:38.602 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:43:38.603 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /transport
15:43:46.847 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /agent/transports
15:43:46.915 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:43:46.915 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.w.BasicAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=agent, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[address.edit, address.read, file.edit, file.read, productType.edit, productType.read]]
15:43:46.916 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /agent/transports
15:43:46.920 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        case 
            when u1_1.id is not null then 1 
            when u1_2.id is not null then 2 
            when u1_0.id is not null then 0 
        end,
        u1_0.address,
        u1_0.birth_date,
        u1_0.created_at,
        u1_0.fio,
        u1_0.is_confirmed,
        u1_0.password,
        u1_0.phone,
        u1_0.role,
        u1_0.username,
        u1_1.id,
        u1_1.company_address,
        u1_1.company_name,
        u1_1.percent_to_express,
        u1_1.percent_to_standard,
        u1_1.price_per_km,
        u1_1.price_per_lb,
        u1_2.agent_id 
    from
        users u1_0 
    left join
        agents u1_1 
            on u1_0.id=u1_1.id 
    left join
        carriers u1_2 
            on u1_0.id=u1_2.id 
    where
        u1_0.username=?
15:43:46.925 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
15:43:46.930 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        a1_0.id,
        a1_1.address,
        a1_1.birth_date,
        a1_1.created_at,
        a1_1.fio,
        a1_1.is_confirmed,
        a1_1.password,
        a1_1.phone,
        r1_0.name,
        t2_0.id,
        t2_0.agent_id,
        t2_0.capacity,
        t2_0.carrier_id,
        t2_0.model,
        t2_0.number,
        t2_0.type,
        a1_1.username,
        a1_0.company_address,
        a1_0.company_name,
        a1_0.percent_to_express,
        a1_0.percent_to_standard,
        a1_0.price_per_km,
        a1_0.price_per_lb,
        a1_1.id,
        t1_0.capacity,
        c2_0.id,
        case 
            when c2_1.id is not null then 1 
            when c2_2.id is not null then 2 
            when c2_0.id is not null then 0 
        end,
        c2_0.address,
        c2_0.birth_date,
        c2_0.created_at,
        c2_0.fio,
        c2_0.is_confirmed,
        c2_0.password,
        c2_0.phone,
        r2_0.name,
        c2_0.username,
        c2_1.company_address,
        c2_1.company_name,
        c2_1.percent_to_express,
        c2_1.percent_to_standard,
        c2_1.price_per_km,
        c2_1.price_per_lb,
        a3_0.id,
        a3_1.address,
        a3_1.birth_date,
        a3_1.created_at,
        a3_1.fio,
        a3_1.is_confirmed,
        a3_1.password,
        a3_1.phone,
        r3_0.name,
        a3_1.id,
        a3_1.username,
        a3_0.company_address,
        a3_0.company_name,
        a3_0.percent_to_express,
        a3_0.percent_to_standard,
        a3_0.price_per_km,
        a3_0.price_per_lb,
        c2_1.id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    left join
        (agents a1_0 
    join
        users a1_1 
            on a1_0.id=a1_1.id) 
                on a1_0.id=t1_0.agent_id 
        left join
            roles r1_0 
                on r1_0.name=a1_1.role 
        left join
            transports t2_0 
                on a1_1.id=t2_0.carrier_id 
        left join
            (users c2_0 
        left join
            agents c2_1 
                on c2_0.id=c2_1.id 
        left join
            carriers c2_2 
                on c2_0.id=c2_2.id) 
                    on c2_0.id=t1_0.carrier_id 
            left join
                roles r2_0 
                    on r2_0.name=c2_0.role 
            left join
                (agents a3_0 
            join
                users a3_1 
                    on a3_0.id=a3_1.id) 
                        on a3_0.id=c2_2.agent_id 
                left join
                    roles r3_0 
                        on r3_0.name=a3_1.role 
                where
                    t1_0.carrier_id=?
15:43:46.937 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.agent_id,
        t1_0.capacity,
        t1_0.carrier_id,
        t1_0.model,
        t1_0.number,
        t1_0.type 
    from
        transports t1_0 
    where
        t1_0.agent_id=?
16:09:43.020 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
16:09:43.024 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
16:09:43.029 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
18:32:12.205 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
18:32:12.282 [main] INFO  c.c.DemoApplication - Starting DemoApplication using Java 17.0.7 with PID 23596 (C:\Users\TEk\IdeaProjects\CargoTransportation\target\classes started by TEk in C:\Users\TEk\IdeaProjects\CargoTransportation)
18:32:12.284 [main] INFO  c.c.DemoApplication - No active profile set, falling back to 1 default profile: "default"
18:32:13.464 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:32:13.656 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 179 ms. Found 9 JPA repository interfaces.
18:32:14.517 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
18:32:14.528 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
18:32:14.529 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
18:32:14.530 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.10]
18:32:14.653 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
18:32:14.654 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2314 ms
18:32:14.907 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
18:32:15.210 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1511d157
18:32:15.213 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
18:32:15.654 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
18:32:15.701 [main] INFO  liquibase.command - Dropping Database Objects in schema: logistic-connection.public
18:32:15.734 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
18:32:16.288 [main] INFO  liquibase.database - Successfully deleted all supported object types in schema logistic-connection.public.
18:32:16.296 [main] INFO  liquibase.lockservice - Successfully released change log lock
18:32:16.300 [main] INFO  liquibase.command - Command execution complete
18:32:16.338 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
18:32:16.569 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081100_init_db.xml
18:32:16.707 [main] INFO  liquibase.changelog - Reading resource: db/changelog/202307081300_populate_db.xml
18:32:16.730 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
18:32:16.738 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
18:32:16.755 [main] INFO  liquibase.command - Using deploymentId: 8819536742
18:32:16.757 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
18:32:16.954 [main] INFO  liquibase.changelog - SQL in file db/sql/init_db.sql executed
18:32:16.957 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081100_init_db.xml::init_db::tkambarov ran successfully in 170ms
18:32:16.987 [main] INFO  liquibase.changelog - Custom SQL executed
18:32:16.988 [main] INFO  liquibase.changelog - ChangeSet db/changelog/202307081300_populate_db.xml::populate_db::tkambarov ran successfully in 21ms
18:32:16.993 [main] INFO  liquibase.util - UPDATE SUMMARY
18:32:16.994 [main] INFO  liquibase.util - Run:                          2
18:32:16.994 [main] INFO  liquibase.util - Previously run:               0
18:32:16.994 [main] INFO  liquibase.util - Filtered out:                 0
18:32:16.994 [main] INFO  liquibase.util - -------------------------------
18:32:16.994 [main] INFO  liquibase.util - Total change sets:            2

18:32:16.995 [main] INFO  liquibase.util - Update summary generated
18:32:16.997 [main] INFO  liquibase.command - Update command completed successfully.
18:32:17.001 [main] INFO  liquibase.lockservice - Successfully released change log lock
18:32:17.006 [main] INFO  liquibase.lockservice - Successfully released change log lock
18:32:17.008 [main] INFO  liquibase.command - Command execution complete
18:32:17.130 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
18:32:17.235 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.5.Final
18:32:17.238 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
18:32:17.441 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
18:32:17.627 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
18:32:18.062 [main] INFO  o.h.b.i.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
18:32:19.532 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
18:32:19.536 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
18:32:20.362 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
18:32:21.170 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
18:32:21.632 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ec3c213, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79715834, org.springframework.security.web.context.SecurityContextHolderFilter@5a0d25ba, org.springframework.security.web.header.HeaderWriterFilter@1ab64f66, org.springframework.web.filter.CorsFilter@4d94b0af, org.springframework.security.web.authentication.logout.LogoutFilter@440dc4f7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59f1c295, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bb6b0f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b4b3918, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72a80668, org.springframework.security.web.access.ExceptionTranslationFilter@41194707, org.springframework.security.web.access.intercept.AuthorizationFilter@6d2fe236]
18:32:21.891 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/roles']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
18:32:21.891 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/roles']
18:32:21.892 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-up/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
18:32:21.892 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-up/**']
18:32:21.892 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/sign-in/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
18:32:21.893 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/sign-in/**']
18:32:21.893 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Mvc [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
18:32:21.893 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Mvc [pattern='/error']
18:32:21.907 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c6e5321a-716a-4591-b39d-2dd6f8f199ad

This generated password is for development use only. Your security configuration must be updated before running your application in production.

18:32:21.945 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
18:32:21.984 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
18:32:21.998 [main] INFO  c.c.DemoApplication - Started DemoApplication in 10.249 seconds (process running for 11.503)
